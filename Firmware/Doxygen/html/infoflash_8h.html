<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>TEMPO 4 Core Platform Firmware: infoflash.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="INERTIAlogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">TEMPO 4 Core Platform Firmware
   </div>
   <div id="projectbrief">This project contains code for ultra low-power, wearable, expandable 6 or 9 Degree-of-Freedom sensing platform implemented using an MSP430F5342 from Texas Instruments</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">infoflash.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the TEMPO 4000 info flash management code.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="flash_8h_source.html">flash.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for infoflash.h:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h__incl.png" border="0" usemap="#infoflash_8h" alt=""/></div>
<map name="infoflash_8h" id="infoflash_8h">
<area shape="rect" id="node2" href="flash_8h.html" title="flash.h" alt="" coords="15,80,75,107"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h__dep__incl.png" border="0" usemap="#infoflash_8hdep" alt=""/></div>
<map name="infoflash_8hdep" id="infoflash_8hdep">
<area shape="rect" id="node2" href="filesystem_8c.html" title="This file contains the TEMPO 4000 file system management code. " alt="" coords="5,80,96,107"/><area shape="rect" id="node3" href="infoflash_8c.html" title="This file contains the TEMPO 4000 info flash management code. " alt="" coords="121,80,201,107"/><area shape="rect" id="node4" href="system_8c.html" title="system.c" alt="" coords="226,80,301,107"/></map>
</div>
</div>
<p><a href="infoflash_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afb0bd1b5b9f1be9a117d982bc135c64e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#afb0bd1b5b9f1be9a117d982bc135c64e">INFO_A_ADDR</a>&#160;&#160;&#160;(0x1980)</td></tr>
<tr class="memdesc:afb0bd1b5b9f1be9a117d982bc135c64e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of info flash segment A.  <a href="#afb0bd1b5b9f1be9a117d982bc135c64e">More...</a><br/></td></tr>
<tr class="separator:afb0bd1b5b9f1be9a117d982bc135c64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a0b2d2de8e755b5f28a06fce1da0e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#aa1a0b2d2de8e755b5f28a06fce1da0e2">INFO_B_ADDR</a>&#160;&#160;&#160;(0x1900)</td></tr>
<tr class="memdesc:aa1a0b2d2de8e755b5f28a06fce1da0e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of info flash segment B.  <a href="#aa1a0b2d2de8e755b5f28a06fce1da0e2">More...</a><br/></td></tr>
<tr class="separator:aa1a0b2d2de8e755b5f28a06fce1da0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0fd2ae6bae1bc967d12506acd043ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a8b0fd2ae6bae1bc967d12506acd043ca">INFO_C_ADDR</a>&#160;&#160;&#160;(0x1880)</td></tr>
<tr class="memdesc:a8b0fd2ae6bae1bc967d12506acd043ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of info flash segment C.  <a href="#a8b0fd2ae6bae1bc967d12506acd043ca">More...</a><br/></td></tr>
<tr class="separator:a8b0fd2ae6bae1bc967d12506acd043ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af321102573b0bca0a209de03b8b94976"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#af321102573b0bca0a209de03b8b94976">INFO_D_ADDR</a>&#160;&#160;&#160;(0x1800)</td></tr>
<tr class="memdesc:af321102573b0bca0a209de03b8b94976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of info flash segment D.  <a href="#af321102573b0bca0a209de03b8b94976">More...</a><br/></td></tr>
<tr class="separator:af321102573b0bca0a209de03b8b94976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a498b4293f5f4d209c75e6e9df7af3b1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a498b4293f5f4d209c75e6e9df7af3b1f">INFO_VALID_CODE</a>&#160;&#160;&#160;0xAAAA</td></tr>
<tr class="memdesc:a498b4293f5f4d209c75e6e9df7af3b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Critical flag validity code.  <a href="#a498b4293f5f4d209c75e6e9df7af3b1f">More...</a><br/></td></tr>
<tr class="separator:a498b4293f5f4d209c75e6e9df7af3b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f3376490d96c54cab38728b1527de2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#ae6f3376490d96c54cab38728b1527de2">INFO_VALID</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ae6f3376490d96c54cab38728b1527de2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Info flash segments all valid return code.  <a href="#ae6f3376490d96c54cab38728b1527de2">More...</a><br/></td></tr>
<tr class="separator:ae6f3376490d96c54cab38728b1527de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19aa11a87a26811e8ac4e33a737e864d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a19aa11a87a26811e8ac4e33a737e864d">INFO_A_INVALID</a>&#160;&#160;&#160;-1</td></tr>
<tr class="memdesc:a19aa11a87a26811e8ac4e33a737e864d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Info flash segment A invalid return code.  <a href="#a19aa11a87a26811e8ac4e33a737e864d">More...</a><br/></td></tr>
<tr class="separator:a19aa11a87a26811e8ac4e33a737e864d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ba128635996da3c5c2e2deea19a504"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#ad1ba128635996da3c5c2e2deea19a504">INFO_B_INVALID</a>&#160;&#160;&#160;-2</td></tr>
<tr class="memdesc:ad1ba128635996da3c5c2e2deea19a504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Info flash segment B invalid return code.  <a href="#ad1ba128635996da3c5c2e2deea19a504">More...</a><br/></td></tr>
<tr class="separator:ad1ba128635996da3c5c2e2deea19a504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3dcfe764802e53deba91f1e1c26e040"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#ad3dcfe764802e53deba91f1e1c26e040">INFO_CRITICAL</a>&#160;&#160;&#160;-3</td></tr>
<tr class="memdesc:ad3dcfe764802e53deba91f1e1c26e040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Info flash segment A contains critical code.  <a href="#ad3dcfe764802e53deba91f1e1c26e040">More...</a><br/></td></tr>
<tr class="separator:ad3dcfe764802e53deba91f1e1c26e040"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a862d6371e73dfa8462c5c7f59211943d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a862d6371e73dfa8462c5c7f59211943d">infoInit</a> (void)</td></tr>
<tr class="memdesc:a862d6371e73dfa8462c5c7f59211943d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize RAM copies of Info flash values.  <a href="#a862d6371e73dfa8462c5c7f59211943d">More...</a><br/></td></tr>
<tr class="separator:a862d6371e73dfa8462c5c7f59211943d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0a3af1e1ff10fdca2ece8ca44d3a41"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a8c0a3af1e1ff10fdca2ece8ca44d3a41">infoCheckCritical</a> (void)</td></tr>
<tr class="memdesc:a8c0a3af1e1ff10fdca2ece8ca44d3a41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether any critical condition flags are set in info flash.  <a href="#a8c0a3af1e1ff10fdca2ece8ca44d3a41">More...</a><br/></td></tr>
<tr class="separator:a8c0a3af1e1ff10fdca2ece8ca44d3a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac473b482b277988e1fd0d6bc6b630ed8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#ac473b482b277988e1fd0d6bc6b630ed8">infoSetLowVoltage</a> (void)</td></tr>
<tr class="memdesc:ac473b482b277988e1fd0d6bc6b630ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the low voltage critical flag to info flash.  <a href="#ac473b482b277988e1fd0d6bc6b630ed8">More...</a><br/></td></tr>
<tr class="separator:ac473b482b277988e1fd0d6bc6b630ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e62b47f34bc78e1a89d20ae274af73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a10e62b47f34bc78e1a89d20ae274af73">infoSetHighTemp</a> (void)</td></tr>
<tr class="memdesc:a10e62b47f34bc78e1a89d20ae274af73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the high temperature critical flag to info flash.  <a href="#a10e62b47f34bc78e1a89d20ae274af73">More...</a><br/></td></tr>
<tr class="separator:a10e62b47f34bc78e1a89d20ae274af73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365774cdf6450cd9df23360511da22a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a365774cdf6450cd9df23360511da22a7">infoSetEvtQueueOvf</a> (void)</td></tr>
<tr class="memdesc:a365774cdf6450cd9df23360511da22a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the event queue overflow critical flag to info flash.  <a href="#a365774cdf6450cd9df23360511da22a7">More...</a><br/></td></tr>
<tr class="separator:a365774cdf6450cd9df23360511da22a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35c5928944e553e00810735699fccc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#ac35c5928944e553e00810735699fccc0">infoSetInfoBFail</a> (void)</td></tr>
<tr class="memdesc:ac35c5928944e553e00810735699fccc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the info flash SegmentB failure critical flag to info flash.  <a href="#ac35c5928944e553e00810735699fccc0">More...</a><br/></td></tr>
<tr class="separator:ac35c5928944e553e00810735699fccc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfde29d2fb1e850a593ff934c3d29019"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#abfde29d2fb1e850a593ff934c3d29019">infoClearCriticalFlags</a> (void)</td></tr>
<tr class="memdesc:abfde29d2fb1e850a593ff934c3d29019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all critical flags from the info flash.  <a href="#abfde29d2fb1e850a593ff934c3d29019">More...</a><br/></td></tr>
<tr class="separator:abfde29d2fb1e850a593ff934c3d29019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b6173321397a194a3dd96211bc9f38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a19b6173321397a194a3dd96211bc9f38">infoUpdateLastSector</a> (unsigned int <a class="el" href="infoflash_8h.html#a34b29c29dda54c418cb1a1e902851ecb">lastSector</a>, unsigned int <a class="el" href="infoflash_8h.html#a6deb0331971ce9cb1cad7bc8c4f97d2d">lastSessSector</a>, unsigned int epoch)</td></tr>
<tr class="memdesc:a19b6173321397a194a3dd96211bc9f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update last session serial and time epoch to info flash.  <a href="#a19b6173321397a194a3dd96211bc9f38">More...</a><br/></td></tr>
<tr class="separator:a19b6173321397a194a3dd96211bc9f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9973391ffddf61f94e6e64e430b6f5c2"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a9973391ffddf61f94e6e64e430b6f5c2">infoGetLastSector</a> (void)</td></tr>
<tr class="memdesc:a9973391ffddf61f94e6e64e430b6f5c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve last sector index from infoflash.  <a href="#a9973391ffddf61f94e6e64e430b6f5c2">More...</a><br/></td></tr>
<tr class="separator:a9973391ffddf61f94e6e64e430b6f5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2a8a8f25e5584399f588908d0e8814"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#aea2a8a8f25e5584399f588908d0e8814">infoGetLastSessSector</a> (void)</td></tr>
<tr class="memdesc:aea2a8a8f25e5584399f588908d0e8814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve last session info sector index from infoflash.  <a href="#aea2a8a8f25e5584399f588908d0e8814">More...</a><br/></td></tr>
<tr class="separator:aea2a8a8f25e5584399f588908d0e8814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e9c891de95d7a5d2ff2a22bd40b92e"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#aa7e9c891de95d7a5d2ff2a22bd40b92e">infoGetLastEpoch</a> (void)</td></tr>
<tr class="memdesc:aa7e9c891de95d7a5d2ff2a22bd40b92e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve last session serial from infoflash.  <a href="#aa7e9c891de95d7a5d2ff2a22bd40b92e">More...</a><br/></td></tr>
<tr class="separator:aa7e9c891de95d7a5d2ff2a22bd40b92e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78655627d55a5567193e171c0be0ecdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a78655627d55a5567193e171c0be0ecdb">infoGetCardID</a> (unsigned char *<a class="el" href="infoflash_8h.html#a156877e8694be0e13019ea67e8388105">cid</a>)</td></tr>
<tr class="memdesc:a78655627d55a5567193e171c0be0ecdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve card ID from infoflash.  <a href="#a78655627d55a5567193e171c0be0ecdb">More...</a><br/></td></tr>
<tr class="separator:a78655627d55a5567193e171c0be0ecdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c9ff9842baf266b82cd9ab84a70e88c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#a3c9ff9842baf266b82cd9ab84a70e88c">infoGetNodeID</a> (void)</td></tr>
<tr class="memdesc:a3c9ff9842baf266b82cd9ab84a70e88c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve node ID from infoflash.  <a href="#a3c9ff9842baf266b82cd9ab84a70e88c">More...</a><br/></td></tr>
<tr class="separator:a3c9ff9842baf266b82cd9ab84a70e88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5d37bc280f223a9d65a27f9f5a69cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="infoflash_8h.html#ada5d37bc280f223a9d65a27f9f5a69cd">infoCardInit</a> (unsigned char *<a class="el" href="infoflash_8h.html#a156877e8694be0e13019ea67e8388105">cid</a>, unsigned int <a class="el" href="system_8c.html#a35bb87da21d354b827425c8cf4428fe9">nodeID</a>, unsigned int <a class="el" href="infoflash_8h.html#a34b29c29dda54c418cb1a1e902851ecb">lastSector</a>, unsigned int <a class="el" href="infoflash_8h.html#a6deb0331971ce9cb1cad7bc8c4f97d2d">lastSessSector</a>, unsigned int timeEpoch)</td></tr>
<tr class="memdesc:ada5d37bc280f223a9d65a27f9f5a69cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set card ID and re-init serials.  <a href="#ada5d37bc280f223a9d65a27f9f5a69cd">More...</a><br/></td></tr>
<tr class="separator:ada5d37bc280f223a9d65a27f9f5a69cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the TEMPO 4000 info flash management code. </p>
<dl class="section author"><dt>Author</dt><dd>Ben Boudaoud (<a href="#" onclick="location.href='mai'+'lto:'+'bb3'+'jd'+'@vi'+'rg'+'ini'+'a.'+'edu'; return false;">bb3jd<span style="display: none;">.nosp@m.</span>@vir<span style="display: none;">.nosp@m.</span>ginia<span style="display: none;">.nosp@m.</span>.edu</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Dec 20, 2013</dd></dl>
<p>This library provides a simple interface for reading and writing the MSP430 info flash on 5xxx series devices. The A and B segments are used for storage of critical non-volatile data including system state and critical flags. </p>

<p>Definition in file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="afb0bd1b5b9f1be9a117d982bc135c64e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_A_ADDR&#160;&#160;&#160;(0x1980)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of info flash segment A. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00038">38</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a19aa11a87a26811e8ac4e33a737e864d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_A_INVALID&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Info flash segment A invalid return code. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00046">46</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa1a0b2d2de8e755b5f28a06fce1da0e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_B_ADDR&#160;&#160;&#160;(0x1900)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of info flash segment B. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00039">39</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad1ba128635996da3c5c2e2deea19a504"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_B_INVALID&#160;&#160;&#160;-2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Info flash segment B invalid return code. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00047">47</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8b0fd2ae6bae1bc967d12506acd043ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_C_ADDR&#160;&#160;&#160;(0x1880)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of info flash segment C. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00040">40</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad3dcfe764802e53deba91f1e1c26e040"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_CRITICAL&#160;&#160;&#160;-3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Info flash segment A contains critical code. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00048">48</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="af321102573b0bca0a209de03b8b94976"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_D_ADDR&#160;&#160;&#160;(0x1800)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of info flash segment D. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00041">41</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae6f3376490d96c54cab38728b1527de2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_VALID&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Info flash segments all valid return code. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00045">45</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a498b4293f5f4d209c75e6e9df7af3b1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_VALID_CODE&#160;&#160;&#160;0xAAAA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Critical flag validity code. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00043">43</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ada5d37bc280f223a9d65a27f9f5a69cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int infoCardInit </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nodeID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>lastSector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>lastSessSector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeEpoch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set card ID and re-init serials. </p>
<dl class="section note"><dt>Note</dt><dd>Intended for use when doing a card re-init or using new card</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>Verification check failed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Side Effects:</dt><dd>The calibration values will be cleared </dd></dl>
<dl class="section user"><dt>Side Effects:</dt><dd>Sets <a class="el" href="infoflash_8c.html#a0683f2bd03aaa0f84622c97eda597459" title="Info flash read only flag. ">infoRO</a> if validity check fails </dd></dl>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00254">254</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h_ada5d37bc280f223a9d65a27f9f5a69cd_icgraph.png" border="0" usemap="#infoflash_8h_ada5d37bc280f223a9d65a27f9f5a69cd_icgraph" alt=""/></div>
<map name="infoflash_8h_ada5d37bc280f223a9d65a27f9f5a69cd_icgraph" id="infoflash_8h_ada5d37bc280f223a9d65a27f9f5a69cd_icgraph">
<area shape="rect" id="node2" href="filesystem_8h.html#a37237af6c97cdc2d5a694f4e06892a76" title="Initialize the file system. " alt="" coords="142,5,191,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8c0a3af1e1ff10fdca2ece8ca44d3a41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int infoCheckCritical </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether any critical condition flags are set in info flash. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>no critical flags </td></tr>
    <tr><td class="paramname">1</td><td>critical flag found</td></tr>
    <tr><td class="paramname">0</td><td>Info valid </td></tr>
    <tr><td class="paramname">-1</td><td>Info A fails validity check (see <a class="el" href="infoflash_8h.html#a19aa11a87a26811e8ac4e33a737e864d" title="Info flash segment A invalid return code. ">INFO_A_INVALID</a>) </td></tr>
    <tr><td class="paramname">-3</td><td>Info A contians critical flags (see <a class="el" href="infoflash_8h.html#ad3dcfe764802e53deba91f1e1c26e040" title="Info flash segment A contains critical code. ">INFO_CRITICAL</a>) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00122">122</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h_a8c0a3af1e1ff10fdca2ece8ca44d3a41_icgraph.png" border="0" usemap="#infoflash_8h_a8c0a3af1e1ff10fdca2ece8ca44d3a41_icgraph" alt=""/></div>
<map name="infoflash_8h_a8c0a3af1e1ff10fdca2ece8ca44d3a41_icgraph" id="infoflash_8h_a8c0a3af1e1ff10fdca2ece8ca44d3a41_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a771c49564e557c43915532fe5be26f85" title="Initialize the system (after reset) " alt="" coords="174,5,234,32"/><area shape="rect" id="node3" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="283,5,333,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abfde29d2fb1e850a593ff934c3d29019"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void infoClearCriticalFlags </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear all critical flags from the info flash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00175">175</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a78655627d55a5567193e171c0be0ecdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void infoGetCardID </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cid</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve card ID from infoflash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">cid</td><td>Card ID string (of length <a class="el" href="flash_8h.html#a74d41858cd4308deb4b29715ba889f32" title="Card ID length in bytes (always 16 for MMC) ">CARD_ID_LEN</a>) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00230">230</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h_a78655627d55a5567193e171c0be0ecdb_icgraph.png" border="0" usemap="#infoflash_8h_a78655627d55a5567193e171c0be0ecdb_icgraph" alt=""/></div>
<map name="infoflash_8h_a78655627d55a5567193e171c0be0ecdb_icgraph" id="infoflash_8h_a78655627d55a5567193e171c0be0ecdb_icgraph">
<area shape="rect" id="node2" href="filesystem_8h.html#a269eb183d5620ad03476838d2d6dcf2c" title="Resume the file system. " alt="" coords="157,5,237,32"/><area shape="rect" id="node3" href="system_8h.html#a771c49564e557c43915532fe5be26f85" title="Initialize the system (after reset) " alt="" coords="286,5,346,32"/><area shape="rect" id="node4" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="395,5,445,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa7e9c891de95d7a5d2ff2a22bd40b92e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int infoGetLastEpoch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve last session serial from infoflash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00220">220</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9973391ffddf61f94e6e64e430b6f5c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int infoGetLastSector </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve last sector index from infoflash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00204">204</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

</div>
</div>
<a class="anchor" id="aea2a8a8f25e5584399f588908d0e8814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int infoGetLastSessSector </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve last session info sector index from infoflash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00212">212</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3c9ff9842baf266b82cd9ab84a70e88c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int infoGetNodeID </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve node ID from infoflash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00238">238</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h_a3c9ff9842baf266b82cd9ab84a70e88c_icgraph.png" border="0" usemap="#infoflash_8h_a3c9ff9842baf266b82cd9ab84a70e88c_icgraph" alt=""/></div>
<map name="infoflash_8h_a3c9ff9842baf266b82cd9ab84a70e88c_icgraph" id="infoflash_8h_a3c9ff9842baf266b82cd9ab84a70e88c_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a771c49564e557c43915532fe5be26f85" title="Initialize the system (after reset) " alt="" coords="161,5,221,32"/><area shape="rect" id="node3" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="269,5,320,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a862d6371e73dfa8462c5c7f59211943d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int infoInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize RAM copies of Info flash values. </p>
<p>Copy values from info flash into RAM-cached copies and run a validity check on the protected information (CID, calib, serials, ...)</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>validity check failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Side Effects:</dt><dd>Sets <a class="el" href="infoflash_8c.html#a0683f2bd03aaa0f84622c97eda597459" title="Info flash read only flag. ">infoRO</a> if validity check fails </dd></dl>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00033">33</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h_a862d6371e73dfa8462c5c7f59211943d_cgraph.png" border="0" usemap="#infoflash_8h_a862d6371e73dfa8462c5c7f59211943d_cgraph" alt=""/></div>
<map name="infoflash_8h_a862d6371e73dfa8462c5c7f59211943d_cgraph" id="infoflash_8h_a862d6371e73dfa8462c5c7f59211943d_cgraph">
<area shape="rect" id="node2" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="113,5,239,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h_a862d6371e73dfa8462c5c7f59211943d_icgraph.png" border="0" usemap="#infoflash_8h_a862d6371e73dfa8462c5c7f59211943d_icgraph" alt=""/></div>
<map name="infoflash_8h_a862d6371e73dfa8462c5c7f59211943d_icgraph" id="infoflash_8h_a862d6371e73dfa8462c5c7f59211943d_icgraph">
<area shape="rect" id="node2" href="filesystem_8h.html#a37237af6c97cdc2d5a694f4e06892a76" title="Initialize the file system. " alt="" coords="127,5,177,32"/><area shape="rect" id="node3" href="filesystem_8h.html#a269eb183d5620ad03476838d2d6dcf2c" title="Resume the file system. " alt="" coords="112,56,192,83"/><area shape="rect" id="node4" href="system_8h.html#a771c49564e557c43915532fe5be26f85" title="Initialize the system (after reset) " alt="" coords="241,81,301,108"/><area shape="rect" id="node5" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="349,81,400,108"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a365774cdf6450cd9df23360511da22a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void infoSetEvtQueueOvf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the event queue overflow critical flag to info flash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00157">157</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h_a365774cdf6450cd9df23360511da22a7_icgraph.png" border="0" usemap="#infoflash_8h_a365774cdf6450cd9df23360511da22a7_icgraph" alt=""/></div>
<map name="infoflash_8h_a365774cdf6450cd9df23360511da22a7_icgraph" id="infoflash_8h_a365774cdf6450cd9df23360511da22a7_icgraph">
<area shape="rect" id="node2" href="system_8h.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="189,132,272,159"/><area shape="rect" id="node3" href="system_8h.html#a2be52727e38f4ff8974fee6e8cc7154f" title="Wake the system from sleep to start taking data or enter command. " alt="" coords="325,31,403,57"/><area shape="rect" id="node7" href="system_8h.html#a0e2e8dad2acdd9148767c662b08edb1b" title="Sample the MPU on an interrupt. " alt="" coords="321,107,407,133"/><area shape="rect" id="node11" href="system_8h.html#a741860d7c7ca2fc2ab305996586da3a8" title="Stop data collection. " alt="" coords="465,157,541,184"/><area shape="rect" id="node12" href="system_8h.html#a972eedbc68ae911757b8efa8952aa1fc" title="Update the system state. " alt="" coords="457,208,549,235"/><area shape="rect" id="node4" href="system_8h.html#ab112a1e0291e6fe889425ea1af602171" title="Put the system to sleep. " alt="" coords="599,5,675,32"/><area shape="rect" id="node5" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="894,107,1005,133"/><area shape="rect" id="node6" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="1053,157,1104,184"/><area shape="rect" id="node8" href="system_8h.html#a776671d27b9823dfa3b52cb403eb5e2f" title="Start a new data session. " alt="" coords="726,107,845,133"/><area shape="rect" id="node9" href="system_8h.html#af0c0706aba53d227b07eb1c9fbadd568" title="Resume collection during a pause from data collection. " alt="" coords="457,107,548,133"/><area shape="rect" id="node10" href="system_8h.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef" title="Pause the system during data collection. " alt="" coords="597,107,677,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10e62b47f34bc78e1a89d20ae274af73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void infoSetHighTemp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the high temperature critical flag to info flash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00148">148</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac35c5928944e553e00810735699fccc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void infoSetInfoBFail </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the info flash SegmentB failure critical flag to info flash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00166">166</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac473b482b277988e1fd0d6bc6b630ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void infoSetLowVoltage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the low voltage critical flag to info flash. </p>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00139">139</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a19b6173321397a194a3dd96211bc9f38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int infoUpdateLastSector </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>lastSector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>lastSessSector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>epoch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update last session serial and time epoch to info flash. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td><a class="el" href="infoflash_8c.html#a0683f2bd03aaa0f84622c97eda597459" title="Info flash read only flag. ">infoRO</a> and/or verification check failed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Side Effects:</dt><dd>Sets <a class="el" href="infoflash_8c.html#a0683f2bd03aaa0f84622c97eda597459" title="Info flash read only flag. ">infoRO</a> if validity check fails </dd></dl>

<p>Definition at line <a class="el" href="infoflash_8c_source.html#l00193">193</a> of file <a class="el" href="infoflash_8c_source.html">infoflash.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="infoflash_8h_a19b6173321397a194a3dd96211bc9f38_icgraph.png" border="0" usemap="#infoflash_8h_a19b6173321397a194a3dd96211bc9f38_icgraph" alt=""/></div>
<map name="infoflash_8h_a19b6173321397a194a3dd96211bc9f38_icgraph" id="infoflash_8h_a19b6173321397a194a3dd96211bc9f38_icgraph">
<area shape="rect" id="node2" href="filesystem_8h.html#a365bb073efe6ce2fd372d3ba9c98affb" title="Halt the file system and save the state. " alt="" coords="201,5,255,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a84db6937fa357622520d26d6e60210ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int checksum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_sector.html" title="Generic sector structure. ">Sector</a> checksum. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00034">34</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a156877e8694be0e13019ea67e8388105"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char cid[<a class="el" href="flash_8h.html#a74d41858cd4308deb4b29715ba889f32">CARD_ID_LEN</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MMC card ID. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00028">28</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="aff120c1220fb7c1d7cc3ca3881c4d806"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int currEpoch</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current card epoch number. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00031">31</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="aef6c3e082c4f2a66a909acdedf68215b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int evtQueueOvf</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Critical flag: event queue overflow. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00020">20</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8f3e5e54397034011086a3c9b207182"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int highTemp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Critical flag: high temperature. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00019">19</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa562589af7dda15098f5c409f955911b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int infoBFail</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Critical flag: info B fail. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00021">21</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a34b29c29dda54c418cb1a1e902851ecb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long lastSector</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last sector written in file system. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00029">29</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6deb0331971ce9cb1cad7bc8c4f97d2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long lastSessSector</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last session info sector written in file system. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00030">30</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab17786ea0ccd57d2b527d06143e22c15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lastTime</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last valid RTC time stamp. </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00032">32</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="af477403a643236d23117b53e5289bc73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lowVoltage</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TEMPO 4000 info A structure. </p>
<p>Critical flag: low voltage </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00018">18</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a35bb87da21d354b827425c8cf4428fe9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int nodeID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TEMPO 4000 info B structure. </p>
<p>TEMPO 4000 Node ID </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00027">27</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a13024661460770a3d3d8c3eff2fcc2bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int validityCode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_sector.html" title="Generic sector structure. ">Sector</a> valid code (always read as 0xAAAA) </p>
<p>Valid code (always read 0xAAAA) </p>

<p>Definition at line <a class="el" href="infoflash_8h_source.html#l00022">22</a> of file <a class="el" href="infoflash_8h_source.html">infoflash.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 6 2014 12:36:22 for TEMPO 4 Core Platform Firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
