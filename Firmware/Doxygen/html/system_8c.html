<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>TEMPO 4 Core Platform Firmware: system.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="INERTIAlogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">TEMPO 4 Core Platform Firmware
   </div>
   <div id="projectbrief">This project contains code for ultra low-power, wearable, expandable 6 or 9 Degree-of-Freedom sensing platform implemented using an MSP430F5342 from Texas Instruments</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">system.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;msp430.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="system_8h_source.html">system.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="infoflash_8h_source.html">infoflash.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="filesystem_8h_source.html">filesystem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="timing_8h_source.html">timing.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rtc_8h_source.html">rtc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mpu_8h_source.html">mpu.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hal_8h_source.html">hal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ftdi_8h_source.html">ftdi.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="comm_8h_source.html">comm.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for system.c:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c__incl.png" border="0" usemap="#system_8c" alt=""/></div>
<map name="system_8c" id="system_8c">
<area shape="rect" id="node3" href="system_8h.html" title="system.h" alt="" coords="481,155,557,181"/><area shape="rect" id="node4" href="command_8h.html" title="command.h" alt="" coords="671,80,762,107"/><area shape="rect" id="node5" href="infoflash_8h.html" title="This file contains the TEMPO 4000 info flash management code. " alt="" coords="786,80,866,107"/><area shape="rect" id="node7" href="filesystem_8h.html" title="This file contains the TEMPO 4000 file system management code. " alt="" coords="504,80,595,107"/><area shape="rect" id="node9" href="timing_8h.html" title="timing.h" alt="" coords="309,80,377,107"/><area shape="rect" id="node8" href="rtc_8h.html" title="rtc.h" alt="" coords="597,155,645,181"/><area shape="rect" id="node11" href="mpu_8h.html" title="mpu.h" alt="" coords="39,80,98,107"/><area shape="rect" id="node13" href="hal_8h.html" title="hal.h" alt="" coords="29,229,79,256"/><area shape="rect" id="node14" href="ftdi_8h.html" title="ftdi.h" alt="" coords="890,80,941,107"/><area shape="rect" id="node15" href="comm_8h.html" title="This library provides functions for interfacing MSP430 USCI modules in a relatively intuitive way..." alt="" coords="133,80,202,107"/><area shape="rect" id="node6" href="flash_8h.html" title="flash.h" alt="" coords="796,155,855,181"/><area shape="rect" id="node10" href="clocks_8h.html" title="clocks.h" alt="" coords="256,155,326,181"/><area shape="rect" id="node12" href="util_8h.html" title="util.h" alt="" coords="29,155,79,181"/><area shape="rect" id="node16" href="comm__hal__5342_8h.html" title="This library provides simple HAL level functionality for setting up and clearing I/O pins for USCI op..." alt="" coords="103,155,231,181"/></map>
</div>
</div>
<p><a href="system_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af749a88756fd8b8659a50ca233c5b0f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#af749a88756fd8b8659a50ca233c5b0f6">ioConfig</a> (void)</td></tr>
<tr class="memdesc:af749a88756fd8b8659a50ca233c5b0f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup port direction, selection, and (sometimes) values.  <a href="#af749a88756fd8b8659a50ca233c5b0f6">More...</a><br/></td></tr>
<tr class="separator:af749a88756fd8b8659a50ca233c5b0f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a771c49564e557c43915532fe5be26f85"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a771c49564e557c43915532fe5be26f85">sysInit</a> (void)</td></tr>
<tr class="memdesc:a771c49564e557c43915532fe5be26f85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the system (after reset)  <a href="#a771c49564e557c43915532fe5be26f85">More...</a><br/></td></tr>
<tr class="separator:a771c49564e557c43915532fe5be26f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab112a1e0291e6fe889425ea1af602171"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#ab112a1e0291e6fe889425ea1af602171">sysSleep</a> (void)</td></tr>
<tr class="memdesc:ab112a1e0291e6fe889425ea1af602171"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the system to sleep.  <a href="#ab112a1e0291e6fe889425ea1af602171">More...</a><br/></td></tr>
<tr class="separator:ab112a1e0291e6fe889425ea1af602171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2be52727e38f4ff8974fee6e8cc7154f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a2be52727e38f4ff8974fee6e8cc7154f">sysWake</a> (void)</td></tr>
<tr class="memdesc:a2be52727e38f4ff8974fee6e8cc7154f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake the system from sleep to start taking data or enter command.  <a href="#a2be52727e38f4ff8974fee6e8cc7154f">More...</a><br/></td></tr>
<tr class="separator:a2be52727e38f4ff8974fee6e8cc7154f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a776671d27b9823dfa3b52cb403eb5e2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a776671d27b9823dfa3b52cb403eb5e2f">sysStartSession</a> (void)</td></tr>
<tr class="memdesc:a776671d27b9823dfa3b52cb403eb5e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new data session.  <a href="#a776671d27b9823dfa3b52cb403eb5e2f">More...</a><br/></td></tr>
<tr class="separator:a776671d27b9823dfa3b52cb403eb5e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd955a477f08dbfae43e8c40b7b4d3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#abbd955a477f08dbfae43e8c40b7b4d3b">sysEndSession</a> (void)</td></tr>
<tr class="memdesc:abbd955a477f08dbfae43e8c40b7b4d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">End a data session.  <a href="#abbd955a477f08dbfae43e8c40b7b4d3b">More...</a><br/></td></tr>
<tr class="separator:abbd955a477f08dbfae43e8c40b7b4d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2e8dad2acdd9148767c662b08edb1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a0e2e8dad2acdd9148767c662b08edb1b">sysSample</a> (void)</td></tr>
<tr class="memdesc:a0e2e8dad2acdd9148767c662b08edb1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample the MPU on an interrupt.  <a href="#a0e2e8dad2acdd9148767c662b08edb1b">More...</a><br/></td></tr>
<tr class="separator:a0e2e8dad2acdd9148767c662b08edb1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e178a6a6d6d9bf4451608d1ed1c7ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef">sysPause</a> (void)</td></tr>
<tr class="memdesc:ad5e178a6a6d6d9bf4451608d1ed1c7ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause the system during data collection.  <a href="#ad5e178a6a6d6d9bf4451608d1ed1c7ef">More...</a><br/></td></tr>
<tr class="separator:ad5e178a6a6d6d9bf4451608d1ed1c7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c0706aba53d227b07eb1c9fbadd568"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#af0c0706aba53d227b07eb1c9fbadd568">sysResume</a> (void)</td></tr>
<tr class="memdesc:af0c0706aba53d227b07eb1c9fbadd568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume collection during a pause from data collection.  <a href="#af0c0706aba53d227b07eb1c9fbadd568">More...</a><br/></td></tr>
<tr class="separator:af0c0706aba53d227b07eb1c9fbadd568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741860d7c7ca2fc2ab305996586da3a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a741860d7c7ca2fc2ab305996586da3a8">sysClose</a> (void)</td></tr>
<tr class="memdesc:a741860d7c7ca2fc2ab305996586da3a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop data collection.  <a href="#a741860d7c7ca2fc2ab305996586da3a8">More...</a><br/></td></tr>
<tr class="separator:a741860d7c7ca2fc2ab305996586da3a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c9ab66d66cad62ac9727b44f6dc6a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a53c9ab66d66cad62ac9727b44f6dc6a4">evtQueInit</a> (void)</td></tr>
<tr class="memdesc:a53c9ab66d66cad62ac9727b44f6dc6a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Re-)initialize the event queue  <a href="#a53c9ab66d66cad62ac9727b44f6dc6a4">More...</a><br/></td></tr>
<tr class="separator:a53c9ab66d66cad62ac9727b44f6dc6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed7fd0b0746e3855fcbd2f62b4b34c3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e">evtQuePut</a> (<a class="el" href="system_8h.html#acac48feae37327493d75fbe09ef8ae4d">sysEvent</a> passEvent)</td></tr>
<tr class="memdesc:aed7fd0b0746e3855fcbd2f62b4b34c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a <a class="el" href="system_8h.html#acac48feae37327493d75fbe09ef8ae4d">sysEvent</a> in the event queue for execution.  <a href="#aed7fd0b0746e3855fcbd2f62b4b34c3e">More...</a><br/></td></tr>
<tr class="separator:aed7fd0b0746e3855fcbd2f62b4b34c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80578adc15f9abae2df4713f384c34d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="system_8h.html#acac48feae37327493d75fbe09ef8ae4d">sysEvent</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#ac80578adc15f9abae2df4713f384c34d">evtQueGet</a> (void)</td></tr>
<tr class="memdesc:ac80578adc15f9abae2df4713f384c34d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop the next pending #SYS_EVENT off the event queue.  <a href="#ac80578adc15f9abae2df4713f384c34d">More...</a><br/></td></tr>
<tr class="separator:ac80578adc15f9abae2df4713f384c34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3281e94ef2cc4e5d88bfcdaa503e673c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a3281e94ef2cc4e5d88bfcdaa503e673c">evtQueExecute</a> (void)</td></tr>
<tr class="memdesc:a3281e94ef2cc4e5d88bfcdaa503e673c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the next event waiting on the event queue.  <a href="#a3281e94ef2cc4e5d88bfcdaa503e673c">More...</a><br/></td></tr>
<tr class="separator:a3281e94ef2cc4e5d88bfcdaa503e673c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a972eedbc68ae911757b8efa8952aa1fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a972eedbc68ae911757b8efa8952aa1fc">updateState</a> (void)</td></tr>
<tr class="memdesc:a972eedbc68ae911757b8efa8952aa1fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the system state.  <a href="#a972eedbc68ae911757b8efa8952aa1fc">More...</a><br/></td></tr>
<tr class="separator:a972eedbc68ae911757b8efa8952aa1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a299d78277c647c4ea93c76acb3e31ec0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="system_8h.html#a97d933d0408e619bd0db712e4d1f755e">Version</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a299d78277c647c4ea93c76acb3e31ec0">v</a> = {4,0,1,0}</td></tr>
<tr class="separator:a299d78277c647c4ea93c76acb3e31ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35bb87da21d354b827425c8cf4428fe9"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a35bb87da21d354b827425c8cf4428fe9">nodeID</a> = 0</td></tr>
<tr class="separator:a35bb87da21d354b827425c8cf4428fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4bf88cede311e2ad476f5267bc6e37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="system_8h.html#aefdf07bbe1cab2bc286d391086c451f6">sampInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a3f4bf88cede311e2ad476f5267bc6e37">samp</a> = {100, <a class="el" href="system_8h.html#acadb5a184c47b271475ed9d3dc3aca81">AXIS_XYZ_6DOF</a>}</td></tr>
<tr class="separator:a3f4bf88cede311e2ad476f5267bc6e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e8d4a598d52b52aeb809bb1cdcbf827"><td class="memItemLeft" align="right" valign="top"><a class="el" href="system_8h.html#aa15e9fc8efd9647f44f2a001171b96ad">sessStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a4e8d4a598d52b52aeb809bb1cdcbf827">closeCause</a></td></tr>
<tr class="separator:a4e8d4a598d52b52aeb809bb1cdcbf827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa63e506d4f413bfb0b985361167922d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="command_8h.html#a661a9943788af21f1e164c78ec30a324">cmdPkt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#afa63e506d4f413bfb0b985361167922d">cmd</a></td></tr>
<tr class="memdesc:afa63e506d4f413bfb0b985361167922d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command packet to pass to <a class="el" href="command_8c.html#ae72397faaa65c39e4f2f4823c19c43d2">runCommand()</a> from <a class="el" href="system_8c.html#a972eedbc68ae911757b8efa8952aa1fc" title="Update the system state. ">updateState()</a>  <a href="#afa63e506d4f413bfb0b985361167922d">More...</a><br/></td></tr>
<tr class="separator:afa63e506d4f413bfb0b985361167922d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47d9867e5ec1bc96cb95214ede32c9fc"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a47d9867e5ec1bc96cb95214ede32c9fc">sensBuffFull</a> = 0</td></tr>
<tr class="separator:a47d9867e5ec1bc96cb95214ede32c9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920e6108241f9f6c254b9e0cf5d678fe"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a920e6108241f9f6c254b9e0cf5d678fe">cardFull</a> = 0</td></tr>
<tr class="separator:a920e6108241f9f6c254b9e0cf5d678fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3be7fd38b2d2cadc5c7c3f3153a6c570"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a3be7fd38b2d2cadc5c7c3f3153a6c570">lowV</a> = 0</td></tr>
<tr class="separator:a3be7fd38b2d2cadc5c7c3f3153a6c570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685ff36589967c57eba92de92970b120"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a685ff36589967c57eba92de92970b120">highT</a> = 0</td></tr>
<tr class="separator:a685ff36589967c57eba92de92970b120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0212335de2a6d4b6185eecb04f76c49c"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a0212335de2a6d4b6185eecb04f76c49c">sessionInProgress</a> = 0</td></tr>
<tr class="separator:a0212335de2a6d4b6185eecb04f76c49c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93859788880cbc4c432e5177ea5f7136"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a93859788880cbc4c432e5177ea5f7136">dataCollectionEn</a> = 0</td></tr>
<tr class="separator:a93859788880cbc4c432e5177ea5f7136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ec844164c03a0dddaade749565b297"><td class="memItemLeft" align="right" valign="top"><a class="el" href="system_8h.html#a4b1d14a8e0eea6aeb786186fe5f308ae">sysState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a01ec844164c03a0dddaade749565b297">state</a> = <a class="el" href="system_8h.html#a2cf7447bd3520706609471d3ecd7e33da0980ed83de990f1099d3537bb6b6df24">STATE_NULL</a></td></tr>
<tr class="separator:a01ec844164c03a0dddaade749565b297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a86f562be36d04edb096c3e10c60e6"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a32a86f562be36d04edb096c3e10c60e6">sampleCount</a> = 0</td></tr>
<tr class="separator:a32a86f562be36d04edb096c3e10c60e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa4bc96d0a94ee924a64e90c18c96cb"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="system_8h.html#acac48feae37327493d75fbe09ef8ae4d">sysEvent</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a8fa4bc96d0a94ee924a64e90c18c96cb">evtQue</a> [<a class="el" href="system_8h.html#a95c0bb348b624ba34bdafaf6f040c667">EVT_QUE_SIZE</a>]</td></tr>
<tr class="memdesc:a8fa4bc96d0a94ee924a64e90c18c96cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event queue.  <a href="#a8fa4bc96d0a94ee924a64e90c18c96cb">More...</a><br/></td></tr>
<tr class="separator:a8fa4bc96d0a94ee924a64e90c18c96cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97cd19d6c5a6531e02ce18a073fa3655"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a97cd19d6c5a6531e02ce18a073fa3655">evtQuePutIdx</a> = 0</td></tr>
<tr class="memdesc:a97cd19d6c5a6531e02ce18a073fa3655"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event queue put index.  <a href="#a97cd19d6c5a6531e02ce18a073fa3655">More...</a><br/></td></tr>
<tr class="separator:a97cd19d6c5a6531e02ce18a073fa3655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90fe96f2ee6c1245844955516ecd1bdb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#a90fe96f2ee6c1245844955516ecd1bdb">evtQueGetIdx</a> = 0</td></tr>
<tr class="memdesc:a90fe96f2ee6c1245844955516ecd1bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event queue get index.  <a href="#a90fe96f2ee6c1245844955516ecd1bdb">More...</a><br/></td></tr>
<tr class="separator:a90fe96f2ee6c1245844955516ecd1bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace17918ff5c8e22e781812c32d309359"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#ace17918ff5c8e22e781812c32d309359">evtQueCount</a> = 0</td></tr>
<tr class="memdesc:ace17918ff5c8e22e781812c32d309359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event queue length (event count)  <a href="#ace17918ff5c8e22e781812c32d309359">More...</a><br/></td></tr>
<tr class="separator:ace17918ff5c8e22e781812c32d309359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ea330c7fac936917c0daa32fad62c1"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8c.html#ad6ea330c7fac936917c0daa32fad62c1">evtQueEmptyCount</a> = 0</td></tr>
<tr class="memdesc:ad6ea330c7fac936917c0daa32fad62c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event queue empty counter.  <a href="#ad6ea330c7fac936917c0daa32fad62c1">More...</a><br/></td></tr>
<tr class="separator:ad6ea330c7fac936917c0daa32fad62c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3281e94ef2cc4e5d88bfcdaa503e673c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evtQueExecute </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute the next event waiting on the event queue. </p>
<p>If the queue is empty, </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00417">417</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a3281e94ef2cc4e5d88bfcdaa503e673c_cgraph.png" border="0" usemap="#system_8c_a3281e94ef2cc4e5d88bfcdaa503e673c_cgraph" alt=""/></div>
<map name="system_8c_a3281e94ef2cc4e5d88bfcdaa503e673c_cgraph" id="system_8c_a3281e94ef2cc4e5d88bfcdaa503e673c_cgraph">
<area shape="rect" id="node2" href="system_8c.html#ac80578adc15f9abae2df4713f384c34d" title="Pop the next pending #SYS_EVENT off the event queue. " alt="" coords="184,169,267,196"/><area shape="rect" id="node3" href="system_8c.html#a776671d27b9823dfa3b52cb403eb5e2f" title="Start a new data session. " alt="" coords="166,575,285,601"/><area shape="rect" id="node30" href="system_8c.html#abbd955a477f08dbfae43e8c40b7b4d3b" title="End a data session. " alt="" coords="349,904,462,931"/><area shape="rect" id="node33" href="system_8c.html#ab112a1e0291e6fe889425ea1af602171" title="Put the system to sleep. " alt="" coords="187,220,263,247"/><area shape="rect" id="node36" href="mpu_8c.html#a58a63d52a00cd0e158f1fefa4faca206" title="This function clears the MPU data buffer. " alt="" coords="176,1005,275,1032"/><area shape="rect" id="node38" href="command_8c.html#ae72397faaa65c39e4f2f4823c19c43d2" title="runCommand" alt="" coords="541,1233,640,1260"/><area shape="rect" id="node4" href="interrupts_8c.html#afca9577b45e269f738134d967728181e" title="registerSW1Callback" alt="" coords="704,499,848,525"/><area shape="rect" id="node5" href="system_8c.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef" title="Pause the system during data collection. " alt="" coords="365,600,445,627"/><area shape="rect" id="node23" href="interrupts_8c.html#a4a77683e1e6bf6dd75de14420934a28d" title="sw1IntCfg" alt="" coords="366,296,445,323"/><area shape="rect" id="node24" href="interrupts_8c.html#a2c9d372439040ad8e21c127455f93cd2" title="registerSW2Callback" alt="" coords="333,245,477,272"/><area shape="rect" id="node25" href="system_8c.html#a741860d7c7ca2fc2ab305996586da3a8" title="Stop data collection. " alt="" coords="367,701,443,728"/><area shape="rect" id="node27" href="interrupts_8c.html#adffdde5c895639affc223a8a7b33949f" title="sw2IntCfg" alt="" coords="366,347,445,373"/><area shape="rect" id="node9" href="interrupts_8c.html#a6089a2c3e818d5bd8b2c68e9e61a95e2" title="registerMPUCallback" alt="" coords="704,701,848,728"/><area shape="rect" id="node10" href="system_8c.html#a0e2e8dad2acdd9148767c662b08edb1b" title="Sample the MPU on an interrupt. " alt="" coords="733,752,819,779"/><area shape="rect" id="node28" href="interrupts_8c.html#a36adf9ed3765c9a443d62df03fc1dcbc" title="mpuIntPinCfg" alt="" coords="356,651,455,677"/><area shape="rect" id="node7" href="mpu_8c.html#aa155f937428dfbd5eb2c27525a8b8e65" title="mpuSleepEn" alt="" coords="728,372,824,399"/><area shape="rect" id="node29" href="filesystem_8c.html#a52a6f393ec15b8e284bc930f952cd4fb" title="Start a new session. " alt="" coords="1045,752,1152,779"/><area shape="rect" id="node19" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="1211,904,1298,931"/><area shape="rect" id="node26" href="util_8c.html#a9c16d7a8760cc0260a1c7d79847d2f99" title="Blink LED rep times using spin loops for timing. " alt="" coords="566,448,615,475"/><area shape="rect" id="node6" href="system_8c.html#af0c0706aba53d227b07eb1c9fbadd568" title="Resume collection during a pause from data collection. " alt="" coords="545,651,636,677"/><area shape="rect" id="node22" href="interrupts_8c.html#a08e51a1426d117ba45dfd329b2988bbb" title="clearMPUCallback" alt="" coords="526,549,655,576"/><area shape="rect" id="node8" href="mpu_8c.html#ad5719093bdef3795b0ab436e6b9d7703" title="This function writes a single byte to a register in the MPU6050. " alt="" coords="896,372,997,399"/><area shape="rect" id="node11" href="mpu_8c.html#ae32ab7a126f1a348ee342a117c26a827" title="This function gets the current accelerometer value from the MPU6050. " alt="" coords="896,752,997,779"/><area shape="rect" id="node12" href="filesystem_8c.html#a38da66fc085afbb50769720a65511e7a" title="Write data to the current open data session. " alt="" coords="1053,664,1144,691"/><area shape="rect" id="node15" href="mpu_8c.html#a51dd4d318b0a66c235ef4fac3b96bacb" title="This function gets the current gyro value from the MPU6050. " alt="" coords="899,853,995,880"/><area shape="rect" id="node16" href="mpu_8c.html#ac9768a2c76e8d116ed37158ae97128f0" title="This function gets the current temperature value from the MPU6050. " alt="" coords="897,701,997,728"/><area shape="rect" id="node17" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="905,600,988,627"/><area shape="rect" id="node13" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="1358,803,1482,829"/><area shape="rect" id="node14" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="1531,1107,1658,1133"/><area shape="rect" id="node18" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="1047,803,1150,829"/><area shape="rect" id="node20" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="1205,752,1304,779"/><area shape="rect" id="node21" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="1201,853,1309,880"/><area shape="rect" id="node31" href="interrupts_8c.html#a3a93ef67c9f288c8151704a26e8e40ca" title="clearSW1Callback" alt="" coords="526,1005,655,1032"/><area shape="rect" id="node32" href="interrupts_8c.html#ac387bd76de3d7ede0059cee7f0ddfa76" title="clearSW2Callback" alt="" coords="526,1056,655,1083"/><area shape="rect" id="node34" href="system_8c.html#a53c9ab66d66cad62ac9727b44f6dc6a4" title="(Re&#45;)initialize the event queue " alt="" coords="366,43,445,69"/><area shape="rect" id="node35" href="system_8c.html#a2be52727e38f4ff8974fee6e8cc7154f" title="Wake the system from sleep to start taking data or enter command. " alt="" coords="367,144,444,171"/><area shape="rect" id="node37" href="comm_8c.html#a0ab99af5ba8791b79989645dd081b948" title="Resets USCI B1 without writing over control regs. " alt="" coords="363,1005,448,1032"/><area shape="rect" id="node39" href="command_8c.html#ad3f98469f9ff5a8f3029ef544ac26862" title="&quot;Handshake&quot; with the node to unlock access to the other commands " alt="" coords="733,1309,819,1336"/><area shape="rect" id="node40" href="command_8c.html#a9b70c48dcddc545c4345e8be5dc2408f" title="Get the system RTC time and return it in the payload. " alt="" coords="731,1360,821,1387"/><area shape="rect" id="node41" href="command_8c.html#a74ad95c8e16d4a6705ccb2f6417f84c4" title="Set the system RTC time to a specific value. " alt="" coords="1053,1081,1145,1108"/><area shape="rect" id="node42" href="command_8c.html#a64a8afbab13873e4393ecf425f9e5c77" title="Get the system firmware version. " alt="" coords="722,1461,830,1488"/><area shape="rect" id="node43" href="command_8c.html#a716012d22c441a411b412782c4064917" title="Get the node identification number. " alt="" coords="723,1512,829,1539"/><area shape="rect" id="node44" href="command_8c.html#ab2a9e7ed091ce0504aaf4397316c0472" title="Get the card identification number. " alt="" coords="725,1563,827,1589"/><area shape="rect" id="node45" href="command_8c.html#a91165cceaf75c18884ffc2c2d91a068a" title="Fetch the desired sector from the card and return it. " alt="" coords="725,1005,827,1032"/><area shape="rect" id="node46" href="command_8c.html#ad20424e6fc023b8dee0a3dc0a6a759b9" title="Get the most recent accelerometer values. " alt="" coords="727,904,825,931"/><area shape="rect" id="node47" href="command_8c.html#a27a77d646b4df055cf68d845ee76c42b" title="Get the most recent gyro values. " alt="" coords="730,1056,822,1083"/><area shape="rect" id="node48" href="command_8c.html#ac749f9630fea98a47543724b93c495a5" title="Set the system sampling rate to the desired value. " alt="" coords="704,1107,848,1133"/><area shape="rect" id="node49" href="command_8c.html#a0ce4be48976f8eb6d7bf89185220abdb" title="Set the system sampling rate to the desired value. " alt="" coords="731,1208,821,1235"/><area shape="rect" id="node50" href="ftdi_8c.html#ae56a30fd1991c7adfba23d2fc910cafa" title="Writes a specified number of bytes to the FTDI chip. " alt="" coords="741,1259,811,1285"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a3281e94ef2cc4e5d88bfcdaa503e673c_icgraph.png" border="0" usemap="#system_8c_a3281e94ef2cc4e5d88bfcdaa503e673c_icgraph" alt=""/></div>
<map name="system_8c_a3281e94ef2cc4e5d88bfcdaa503e673c_icgraph" id="system_8c_a3281e94ef2cc4e5d88bfcdaa503e673c_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="165,5,216,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac80578adc15f9abae2df4713f384c34d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="system_8h.html#acac48feae37327493d75fbe09ef8ae4d">sysEvent</a> evtQueGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pop the next pending #SYS_EVENT off the event queue. </p>
<p>Record a new timestamp pair into the timing log of the flash card, using the current timing epoch in effect.</p>
<dl class="section return"><dt>Returns</dt><dd>The next #SYS_EVENT on the queue </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="system_8h.html#a9db8ea89136cded024119212ba6c8291a64e6a4e7f233e14787f98b0a959badbb">SYS_QUE_EMPTY</a></td><td>event if queue empty </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="system_8c_source.html#l00397">397</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_ac80578adc15f9abae2df4713f384c34d_icgraph.png" border="0" usemap="#system_8c_ac80578adc15f9abae2df4713f384c34d_icgraph" alt=""/></div>
<map name="system_8c_ac80578adc15f9abae2df4713f384c34d_icgraph" id="system_8c_ac80578adc15f9abae2df4713f384c34d_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="137,5,247,32"/><area shape="rect" id="node3" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="296,5,347,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a53c9ab66d66cad62ac9727b44f6dc6a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evtQueInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Re-)initialize the event queue </p>
<p>Reset/flush the event queue. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00357">357</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a53c9ab66d66cad62ac9727b44f6dc6a4_icgraph.png" border="0" usemap="#system_8c_a53c9ab66d66cad62ac9727b44f6dc6a4_icgraph" alt=""/></div>
<map name="system_8c_a53c9ab66d66cad62ac9727b44f6dc6a4_icgraph" id="system_8c_a53c9ab66d66cad62ac9727b44f6dc6a4_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a771c49564e557c43915532fe5be26f85" title="Initialize the system (after reset) " alt="" coords="301,5,361,32"/><area shape="rect" id="node4" href="system_8h.html#ab112a1e0291e6fe889425ea1af602171" title="Put the system to sleep. " alt="" coords="142,56,218,83"/><area shape="rect" id="node6" href="system_8h.html#a972eedbc68ae911757b8efa8952aa1fc" title="Update the system state. " alt="" coords="134,107,226,133"/><area shape="rect" id="node3" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="435,56,485,83"/><area shape="rect" id="node5" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="275,56,386,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aed7fd0b0746e3855fcbd2f62b4b34c3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evtQuePut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="system_8h.html#acac48feae37327493d75fbe09ef8ae4d">sysEvent</a>&#160;</td>
          <td class="paramname"><em>passEvent</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueue a <a class="el" href="system_8h.html#acac48feae37327493d75fbe09ef8ae4d">sysEvent</a> in the event queue for execution. </p>
<dl class="section user"><dt>Side Effects:</dt><dd>If the event queue is already full, the system will record a critical error and turn off, and upon the next boot, the node will be trapped until serviced by someone familiar with the node (i.e., it will appear dead to the user). </dd></dl>

<p>Definition at line <a class="el" href="system_8c_source.html#l00373">373</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_aed7fd0b0746e3855fcbd2f62b4b34c3e_cgraph.png" border="0" usemap="#system_8c_aed7fd0b0746e3855fcbd2f62b4b34c3e_cgraph" alt=""/></div>
<map name="system_8c_aed7fd0b0746e3855fcbd2f62b4b34c3e_cgraph" id="system_8c_aed7fd0b0746e3855fcbd2f62b4b34c3e_cgraph">
<area shape="rect" id="node2" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="136,5,272,32"/><area shape="rect" id="node3" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="153,107,255,133"/><area shape="rect" id="node6" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="331,56,418,83"/><area shape="rect" id="node4" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="478,157,602,184"/><area shape="rect" id="node7" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="325,157,424,184"/><area shape="rect" id="node8" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="321,208,429,235"/><area shape="rect" id="node5" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="651,157,778,184"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_aed7fd0b0746e3855fcbd2f62b4b34c3e_icgraph.png" border="0" usemap="#system_8c_aed7fd0b0746e3855fcbd2f62b4b34c3e_icgraph" alt=""/></div>
<map name="system_8c_aed7fd0b0746e3855fcbd2f62b4b34c3e_icgraph" id="system_8c_aed7fd0b0746e3855fcbd2f62b4b34c3e_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a2be52727e38f4ff8974fee6e8cc7154f" title="Wake the system from sleep to start taking data or enter command. " alt="" coords="141,31,219,57"/><area shape="rect" id="node6" href="system_8h.html#a0e2e8dad2acdd9148767c662b08edb1b" title="Sample the MPU on an interrupt. " alt="" coords="137,107,223,133"/><area shape="rect" id="node10" href="system_8h.html#a741860d7c7ca2fc2ab305996586da3a8" title="Stop data collection. " alt="" coords="281,157,357,184"/><area shape="rect" id="node11" href="system_8h.html#a972eedbc68ae911757b8efa8952aa1fc" title="Update the system state. " alt="" coords="273,208,365,235"/><area shape="rect" id="node3" href="system_8h.html#ab112a1e0291e6fe889425ea1af602171" title="Put the system to sleep. " alt="" coords="415,5,491,32"/><area shape="rect" id="node4" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="710,107,821,133"/><area shape="rect" id="node5" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="869,157,920,184"/><area shape="rect" id="node7" href="system_8h.html#a776671d27b9823dfa3b52cb403eb5e2f" title="Start a new data session. " alt="" coords="542,107,661,133"/><area shape="rect" id="node8" href="system_8h.html#af0c0706aba53d227b07eb1c9fbadd568" title="Resume collection during a pause from data collection. " alt="" coords="273,107,364,133"/><area shape="rect" id="node9" href="system_8h.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef" title="Pause the system during data collection. " alt="" coords="413,107,493,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af749a88756fd8b8659a50ca233c5b0f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ioConfig </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup port direction, selection, and (sometimes) values. </p>
<p>Initialize ports for operation. Mostly relies on HAL-level definitions for static setup of I/O for items like the LED, switches, charge indicator, MPU, and MMC card. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00051">51</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_af749a88756fd8b8659a50ca233c5b0f6_cgraph.png" border="0" usemap="#system_8c_af749a88756fd8b8659a50ca233c5b0f6_cgraph" alt=""/></div>
<map name="system_8c_af749a88756fd8b8659a50ca233c5b0f6_cgraph" id="system_8c_af749a88756fd8b8659a50ca233c5b0f6_cgraph">
<area shape="rect" id="node2" href="interrupts_8c.html#a374bc16133cc93f46b85dcfe9b17952e" title="chargingIntCfg" alt="" coords="123,5,227,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_af749a88756fd8b8659a50ca233c5b0f6_icgraph.png" border="0" usemap="#system_8c_af749a88756fd8b8659a50ca233c5b0f6_icgraph" alt=""/></div>
<map name="system_8c_af749a88756fd8b8659a50ca233c5b0f6_icgraph" id="system_8c_af749a88756fd8b8659a50ca233c5b0f6_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a771c49564e557c43915532fe5be26f85" title="Initialize the system (after reset) " alt="" coords="123,5,183,32"/><area shape="rect" id="node3" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="232,5,283,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a741860d7c7ca2fc2ab305996586da3a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysClose </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop data collection. </p>
<p>This function is used as a callback for the SW2 button press event during data colelction. It allows the user to end a data session by pressing SW2 during operation. This blinks the RED LED 5 times and closes the session. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00345">345</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a741860d7c7ca2fc2ab305996586da3a8_cgraph.png" border="0" usemap="#system_8c_a741860d7c7ca2fc2ab305996586da3a8_cgraph" alt=""/></div>
<map name="system_8c_a741860d7c7ca2fc2ab305996586da3a8_cgraph" id="system_8c_a741860d7c7ca2fc2ab305996586da3a8_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a9c16d7a8760cc0260a1c7d79847d2f99" title="Blink LED rep times using spin loops for timing. " alt="" coords="147,5,197,32"/><area shape="rect" id="node3" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="131,56,213,83"/><area shape="rect" id="node4" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="261,5,397,32"/><area shape="rect" id="node5" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="278,107,381,133"/><area shape="rect" id="node8" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="457,56,543,83"/><area shape="rect" id="node6" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="603,157,727,184"/><area shape="rect" id="node9" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="451,157,549,184"/><area shape="rect" id="node10" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="446,208,554,235"/><area shape="rect" id="node7" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="777,157,903,184"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a741860d7c7ca2fc2ab305996586da3a8_icgraph.png" border="0" usemap="#system_8c_a741860d7c7ca2fc2ab305996586da3a8_icgraph" alt=""/></div>
<map name="system_8c_a741860d7c7ca2fc2ab305996586da3a8_icgraph" id="system_8c_a741860d7c7ca2fc2ab305996586da3a8_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a776671d27b9823dfa3b52cb403eb5e2f" title="Start a new data session. " alt="" coords="131,5,250,32"/><area shape="rect" id="node3" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="299,5,410,32"/><area shape="rect" id="node4" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="459,5,509,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abbd955a477f08dbfae43e8c40b7b4d3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysEndSession </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End a data session. </p>
<p>This function ends the current data session being stored to the card and set the system state to #STATE_END_SESSION </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00220">220</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_abbd955a477f08dbfae43e8c40b7b4d3b_cgraph.png" border="0" usemap="#system_8c_abbd955a477f08dbfae43e8c40b7b4d3b_cgraph" alt=""/></div>
<map name="system_8c_abbd955a477f08dbfae43e8c40b7b4d3b_cgraph" id="system_8c_abbd955a477f08dbfae43e8c40b7b4d3b_cgraph">
<area shape="rect" id="node2" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="182,81,285,108"/><area shape="rect" id="node5" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="361,5,447,32"/><area shape="rect" id="node8" href="interrupts_8c.html#a3a93ef67c9f288c8151704a26e8e40ca" title="clearSW1Callback" alt="" coords="169,132,298,159"/><area shape="rect" id="node10" href="interrupts_8c.html#ac387bd76de3d7ede0059cee7f0ddfa76" title="clearSW2Callback" alt="" coords="169,183,298,209"/><area shape="rect" id="node11" href="interrupts_8c.html#a08e51a1426d117ba45dfd329b2988bbb" title="clearMPUCallback" alt="" coords="169,233,298,260"/><area shape="rect" id="node3" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="510,107,634,133"/><area shape="rect" id="node6" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="355,107,453,133"/><area shape="rect" id="node7" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="350,157,458,184"/><area shape="rect" id="node4" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="683,107,810,133"/><area shape="rect" id="node9" href="interrupts_8c.html#a06dd6de8d440db94104057cd2ae546e1" title="dummyCallback" alt="" coords="347,208,461,235"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_abbd955a477f08dbfae43e8c40b7b4d3b_icgraph.png" border="0" usemap="#system_8c_abbd955a477f08dbfae43e8c40b7b4d3b_icgraph" alt=""/></div>
<map name="system_8c_abbd955a477f08dbfae43e8c40b7b4d3b_icgraph" id="system_8c_abbd955a477f08dbfae43e8c40b7b4d3b_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="169,5,279,32"/><area shape="rect" id="node3" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="328,5,379,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a771c49564e557c43915532fe5be26f85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sysInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the system (after reset) </p>
<p>"Boot" up the system, initializing flags, modules, peripherals, ports, buffers, etc., etc. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00073">73</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a771c49564e557c43915532fe5be26f85_cgraph.png" border="0" usemap="#system_8c_a771c49564e557c43915532fe5be26f85_cgraph" alt=""/></div>
<map name="system_8c_a771c49564e557c43915532fe5be26f85_cgraph" id="system_8c_a771c49564e557c43915532fe5be26f85_cgraph">
<area shape="rect" id="node2" href="infoflash_8c.html#a862d6371e73dfa8462c5c7f59211943d" title="Initialize RAM copies of Info flash values. " alt="" coords="315,436,373,463"/><area shape="rect" id="node4" href="infoflash_8c.html#a8c0a3af1e1ff10fdca2ece8ca44d3a41" title="Check whether any critical condition flags are set in info flash. " alt="" coords="115,56,234,83"/><area shape="rect" id="node5" href="infoflash_8c.html#a3c9ff9842baf266b82cd9ab84a70e88c" title="Retrieve node ID from infoflash. " alt="" coords="122,107,227,133"/><area shape="rect" id="node6" href="system_8c.html#af749a88756fd8b8659a50ca233c5b0f6" title="Setup port direction, selection, and (sometimes) values. " alt="" coords="141,5,209,32"/><area shape="rect" id="node8" href="util_8c.html#a9c16d7a8760cc0260a1c7d79847d2f99" title="Blink LED rep times using spin loops for timing. " alt="" coords="150,208,199,235"/><area shape="rect" id="node9" href="timing_8c.html#a99a7b75dfb883af8de64c671323d2476" title="MCLK, SMCLK, and ACLK Init Routine. " alt="" coords="147,157,203,184"/><area shape="rect" id="node11" href="mpu_8c.html#aebd8ab4e8130c4440f4809408a86b7ac" title="This function registers the I2C port for communication and sets up the MPU6050. " alt="" coords="143,309,207,336"/><area shape="rect" id="node18" href="mpu_8c.html#aa155f937428dfbd5eb2c27525a8b8e65" title="mpuSleepEn" alt="" coords="296,183,392,209"/><area shape="rect" id="node23" href="filesystem_8c.html#a269eb183d5620ad03476838d2d6dcf2c" title="Resume the file system. " alt="" coords="135,487,215,513"/><area shape="rect" id="node42" href="system_8c.html#a53c9ab66d66cad62ac9727b44f6dc6a4" title="(Re&#45;)initialize the event queue " alt="" coords="135,537,214,564"/><area shape="rect" id="node3" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="455,436,582,463"/><area shape="rect" id="node7" href="interrupts_8c.html#a374bc16133cc93f46b85dcfe9b17952e" title="chargingIntCfg" alt="" coords="292,5,396,32"/><area shape="rect" id="node10" href="timing_8c.html#a370ed6e2b4f258dd085c4370d88ecd33" title="FLL Initialization Routine. " alt="" coords="313,132,375,159"/><area shape="rect" id="node12" href="comm_8c.html#af70da4f96e4931b9e26a6bbac4fce4bf" title="Registers an application for use of a USCI module. " alt="" coords="653,411,755,437"/><area shape="rect" id="node13" href="mpu_8c.html#a8bf86992df821d4f7a0a232e8b0c8330" title="This function resets the MPU6050. " alt="" coords="303,233,385,260"/><area shape="rect" id="node19" href="mpu_8c.html#a7a197e52f453792f9cacac6a9ecfc287" title="This function returns the value from the MPU WHOAMI register. " alt="" coords="295,335,393,361"/><area shape="rect" id="node22" href="mpu_8c.html#ad95c9f6011fd1df75d5fd71072ee51e6" title="This function writes a RAM copy of MPU settings into the MPU6050. " alt="" coords="303,284,385,311"/><area shape="rect" id="node14" href="mpu_8c.html#ad5719093bdef3795b0ab436e6b9d7703" title="This function writes a single byte to a register in the MPU6050. " alt="" coords="468,233,569,260"/><area shape="rect" id="node15" href="comm_8c.html#ae0290657fef25a40fcb6cc520fd6a5d6" title="Transmit method for USCI B1 I2C operation. " alt="" coords="661,233,747,260"/><area shape="rect" id="node17" href="comm_8c.html#a1eb0cd49631429c70b5b46c6438721a9" title="Get method for USCI B1 status. " alt="" coords="655,284,753,311"/><area shape="rect" id="node16" href="comm_8c.html#a8f7f68ec9a8b50cfdb98163787157ee2" title="Configures USCI B1 for operation. " alt="" coords="849,284,929,311"/><area shape="rect" id="node20" href="mpu_8c.html#af498714a6c4933f0feecfd4147d663b1" title="This function reads a single byte from a register in the MPU6050. " alt="" coords="469,335,569,361"/><area shape="rect" id="node21" href="comm_8c.html#a29aeb1447e5d2de1da8ee5d87fbe2d97" title="Receive method for USCI B1 I2C operation. " alt="" coords="661,335,747,361"/><area shape="rect" id="node24" href="flash_8c.html#a9f9e0b850d75d42457f69e391e89c4c6" title="Initialize flash card for communication. " alt="" coords="311,537,377,564"/><area shape="rect" id="node35" href="flash_8c.html#a095c41f1a2a8a1aa697e3cfb048c8b16" title="Read the card ID directly from the MMC card. " alt="" coords="285,639,403,665"/><area shape="rect" id="node39" href="infoflash_8c.html#a78655627d55a5567193e171c0be0ecdb" title="Retrieve card ID from infoflash. " alt="" coords="293,588,395,615"/><area shape="rect" id="node40" href="flash_8c.html#ac586d9a9d6b84038ddccb549052a38f5" title="Read a sector and verify the checksum. " alt="" coords="283,487,405,513"/><area shape="rect" id="node25" href="mmc_8c.html#a674b53ab2cb86b4c079847a4d4f7b3f5" title="mmcInit" alt="" coords="485,537,553,564"/><area shape="rect" id="node26" href="comm_8c.html#a85941a258add379ddb8f307f0e4d994c" title="Resets USCI B0 without writing over control regs. " alt="" coords="661,487,747,513"/><area shape="rect" id="node27" href="mmc_8c.html#a5b04c47aebbc621561f4191273d4577f" title="mmcGoIdle" alt="" coords="660,537,748,564"/><area shape="rect" id="node28" href="mmc_8c.html#a45553c72d5076047f5fa8a1da13d0e44" title="mmcSendCmd" alt="" coords="835,639,943,665"/><area shape="rect" id="node33" href="mmc_8c.html#a6e83355b1d22a078cac7314143c8b2d4" title="mmcGetResponse" alt="" coords="824,588,955,615"/><area shape="rect" id="node34" href="comm_8c.html#a3e827eea726cc3abb1cb310b459a0781" title="Set method for USCI B0 Baud Rate Divisor. " alt="" coords="837,537,941,564"/><area shape="rect" id="node29" href="mmc_8c.html#aab58b8b57456cc34e76aaa63478b424a" title="spiSendFrame" alt="" coords="1003,639,1109,665"/><area shape="rect" id="node30" href="comm_8c.html#acac01b5fff8d81782043a7510da979dc" title="Transmit method for USCI B0 SPI operation. " alt="" coords="1163,613,1250,640"/><area shape="rect" id="node32" href="comm_8c.html#a30cd6ac2ee3f3ebb409b63fcdcabf28d" title="Get method for USCI B0 status. " alt="" coords="1157,664,1256,691"/><area shape="rect" id="node31" href="comm_8c.html#a4f101e86fed045bdeccb60f91eaa02fd" title="Configures USCI B0 for operation. " alt="" coords="1304,613,1384,640"/><area shape="rect" id="node36" href="mmc_8c.html#a63d851f51d5bd56fe158a4d902d7a039" title="mmcReadRegister" alt="" coords="454,639,583,665"/><area shape="rect" id="node37" href="mmc_8c.html#aa088e2b5d1a1fc155c30d6b1c74c51c0" title="mmcSetBlockLength" alt="" coords="633,639,775,665"/><area shape="rect" id="node38" href="mmc_8c.html#a5c1de14a403aada7078527fd311078c7" title="mmcGetXXResponse" alt="" coords="632,689,776,716"/><area shape="rect" id="node41" href="flash_8c.html#a3acb9fe3d3714aa1dcdd72a8851e5484" title="Read a single sector from the flash card. " alt="" coords="479,487,558,513"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a771c49564e557c43915532fe5be26f85_icgraph.png" border="0" usemap="#system_8c_a771c49564e557c43915532fe5be26f85_icgraph" alt=""/></div>
<map name="system_8c_a771c49564e557c43915532fe5be26f85_icgraph" id="system_8c_a771c49564e557c43915532fe5be26f85_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="115,5,165,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad5e178a6a6d6d9bf4451608d1ed1c7ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysPause </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause the system during data collection. </p>
<p>This function is used as a callback for the SW1 button press event during collection. It allows the user to pause data collection during a session and results in the LED being permanently lit over the duration of this pause. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00310">310</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_ad5e178a6a6d6d9bf4451608d1ed1c7ef_cgraph.png" border="0" usemap="#system_8c_ad5e178a6a6d6d9bf4451608d1ed1c7ef_cgraph" alt=""/></div>
<map name="system_8c_ad5e178a6a6d6d9bf4451608d1ed1c7ef_cgraph" id="system_8c_ad5e178a6a6d6d9bf4451608d1ed1c7ef_cgraph">
<area shape="rect" id="node2" href="interrupts_8c.html#afca9577b45e269f738134d967728181e" title="registerSW1Callback" alt="" coords="312,31,456,57"/><area shape="rect" id="node3" href="system_8c.html#af0c0706aba53d227b07eb1c9fbadd568" title="Resume collection during a pause from data collection. " alt="" coords="153,132,244,159"/><area shape="rect" id="node4" href="mpu_8c.html#aa155f937428dfbd5eb2c27525a8b8e65" title="mpuSleepEn" alt="" coords="336,81,432,108"/><area shape="rect" id="node24" href="interrupts_8c.html#a08e51a1426d117ba45dfd329b2988bbb" title="clearMPUCallback" alt="" coords="134,208,263,235"/><area shape="rect" id="node9" href="interrupts_8c.html#a6089a2c3e818d5bd8b2c68e9e61a95e2" title="registerMPUCallback" alt="" coords="312,183,456,209"/><area shape="rect" id="node10" href="system_8c.html#a0e2e8dad2acdd9148767c662b08edb1b" title="Sample the MPU on an interrupt. " alt="" coords="341,132,427,159"/><area shape="rect" id="node5" href="mpu_8c.html#ad5719093bdef3795b0ab436e6b9d7703" title="This function writes a single byte to a register in the MPU6050. " alt="" coords="504,5,605,32"/><area shape="rect" id="node6" href="comm_8c.html#ae0290657fef25a40fcb6cc520fd6a5d6" title="Transmit method for USCI B1 I2C operation. " alt="" coords="678,5,765,32"/><area shape="rect" id="node8" href="comm_8c.html#a1eb0cd49631429c70b5b46c6438721a9" title="Get method for USCI B1 status. " alt="" coords="672,56,771,83"/><area shape="rect" id="node7" href="comm_8c.html#a8f7f68ec9a8b50cfdb98163787157ee2" title="Configures USCI B1 for operation. " alt="" coords="852,81,932,108"/><area shape="rect" id="node11" href="mpu_8c.html#ae32ab7a126f1a348ee342a117c26a827" title="This function gets the current accelerometer value from the MPU6050. " alt="" coords="504,56,605,83"/><area shape="rect" id="node13" href="filesystem_8c.html#a38da66fc085afbb50769720a65511e7a" title="Write data to the current open data session. " alt="" coords="847,151,937,177"/><area shape="rect" id="node16" href="mpu_8c.html#a51dd4d318b0a66c235ef4fac3b96bacb" title="This function gets the current gyro value from the MPU6050. " alt="" coords="507,107,603,133"/><area shape="rect" id="node17" href="mpu_8c.html#ac9768a2c76e8d116ed37158ae97128f0" title="This function gets the current temperature value from the MPU6050. " alt="" coords="505,157,605,184"/><area shape="rect" id="node18" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="513,296,596,323"/><area shape="rect" id="node12" href="comm_8c.html#a29aeb1447e5d2de1da8ee5d87fbe2d97" title="Receive method for USCI B1 I2C operation. " alt="" coords="679,107,764,133"/><area shape="rect" id="node14" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="995,227,1119,253"/><area shape="rect" id="node15" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="1169,227,1295,253"/><area shape="rect" id="node19" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="653,372,789,399"/><area shape="rect" id="node20" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="670,271,773,297"/><area shape="rect" id="node21" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="849,353,935,380"/><area shape="rect" id="node22" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="843,252,941,279"/><area shape="rect" id="node23" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="838,303,946,329"/><area shape="rect" id="node25" href="interrupts_8c.html#a06dd6de8d440db94104057cd2ae546e1" title="dummyCallback" alt="" coords="327,233,441,260"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_ad5e178a6a6d6d9bf4451608d1ed1c7ef_icgraph.png" border="0" usemap="#system_8c_ad5e178a6a6d6d9bf4451608d1ed1c7ef_icgraph" alt=""/></div>
<map name="system_8c_ad5e178a6a6d6d9bf4451608d1ed1c7ef_icgraph" id="system_8c_ad5e178a6a6d6d9bf4451608d1ed1c7ef_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a776671d27b9823dfa3b52cb403eb5e2f" title="Start a new data session. " alt="" coords="401,5,519,32"/><area shape="rect" id="node5" href="system_8h.html#af0c0706aba53d227b07eb1c9fbadd568" title="Resume collection during a pause from data collection. " alt="" coords="133,31,224,57"/><area shape="rect" id="node3" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="569,5,679,32"/><area shape="rect" id="node4" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="728,5,779,32"/><area shape="rect" id="node6" href="system_8h.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef" title="Pause the system during data collection. " alt="" coords="272,31,352,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af0c0706aba53d227b07eb1c9fbadd568"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysResume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume collection during a pause from data collection. </p>
<p>This function is used as a callback for the SW1 button press event during a pause. It allows the user to resume taking data from a pause and clears the LED state in between </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00328">328</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_af0c0706aba53d227b07eb1c9fbadd568_cgraph.png" border="0" usemap="#system_8c_af0c0706aba53d227b07eb1c9fbadd568_cgraph" alt=""/></div>
<map name="system_8c_af0c0706aba53d227b07eb1c9fbadd568_cgraph" id="system_8c_af0c0706aba53d227b07eb1c9fbadd568_cgraph">
<area shape="rect" id="node2" href="interrupts_8c.html#afca9577b45e269f738134d967728181e" title="registerSW1Callback" alt="" coords="336,5,480,32"/><area shape="rect" id="node3" href="system_8c.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef" title="Pause the system during data collection. " alt="" coords="176,56,256,83"/><area shape="rect" id="node4" href="mpu_8c.html#aa155f937428dfbd5eb2c27525a8b8e65" title="mpuSleepEn" alt="" coords="360,107,456,133"/><area shape="rect" id="node11" href="interrupts_8c.html#a6089a2c3e818d5bd8b2c68e9e61a95e2" title="registerMPUCallback" alt="" coords="144,157,288,184"/><area shape="rect" id="node12" href="system_8c.html#a0e2e8dad2acdd9148767c662b08edb1b" title="Sample the MPU on an interrupt. " alt="" coords="365,247,451,273"/><area shape="rect" id="node9" href="interrupts_8c.html#a08e51a1426d117ba45dfd329b2988bbb" title="clearMPUCallback" alt="" coords="343,56,473,83"/><area shape="rect" id="node5" href="mpu_8c.html#ad5719093bdef3795b0ab436e6b9d7703" title="This function writes a single byte to a register in the MPU6050. " alt="" coords="535,107,636,133"/><area shape="rect" id="node6" href="comm_8c.html#ae0290657fef25a40fcb6cc520fd6a5d6" title="Transmit method for USCI B1 I2C operation. " alt="" coords="715,107,802,133"/><area shape="rect" id="node8" href="comm_8c.html#a1eb0cd49631429c70b5b46c6438721a9" title="Get method for USCI B1 status. " alt="" coords="709,157,808,184"/><area shape="rect" id="node7" href="comm_8c.html#a8f7f68ec9a8b50cfdb98163787157ee2" title="Configures USCI B1 for operation. " alt="" coords="889,157,969,184"/><area shape="rect" id="node10" href="interrupts_8c.html#a06dd6de8d440db94104057cd2ae546e1" title="dummyCallback" alt="" coords="528,56,643,83"/><area shape="rect" id="node13" href="mpu_8c.html#ae32ab7a126f1a348ee342a117c26a827" title="This function gets the current accelerometer value from the MPU6050. " alt="" coords="535,208,636,235"/><area shape="rect" id="node15" href="filesystem_8c.html#a38da66fc085afbb50769720a65511e7a" title="Write data to the current open data session. " alt="" coords="884,461,975,488"/><area shape="rect" id="node18" href="mpu_8c.html#a51dd4d318b0a66c235ef4fac3b96bacb" title="This function gets the current gyro value from the MPU6050. " alt="" coords="537,259,633,285"/><area shape="rect" id="node19" href="mpu_8c.html#ac9768a2c76e8d116ed37158ae97128f0" title="This function gets the current temperature value from the MPU6050. " alt="" coords="535,157,635,184"/><area shape="rect" id="node20" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="544,309,627,336"/><area shape="rect" id="node14" href="comm_8c.html#a29aeb1447e5d2de1da8ee5d87fbe2d97" title="Receive method for USCI B1 I2C operation. " alt="" coords="716,208,801,235"/><area shape="rect" id="node16" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="1033,385,1157,412"/><area shape="rect" id="node17" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="1206,385,1333,412"/><area shape="rect" id="node21" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="691,309,827,336"/><area shape="rect" id="node22" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="707,360,810,387"/><area shape="rect" id="node23" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="886,259,973,285"/><area shape="rect" id="node24" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="880,309,979,336"/><area shape="rect" id="node25" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="875,360,983,387"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_af0c0706aba53d227b07eb1c9fbadd568_icgraph.png" border="0" usemap="#system_8c_af0c0706aba53d227b07eb1c9fbadd568_icgraph" alt=""/></div>
<map name="system_8c_af0c0706aba53d227b07eb1c9fbadd568_icgraph" id="system_8c_af0c0706aba53d227b07eb1c9fbadd568_icgraph">
<area shape="rect" id="node2" href="system_8h.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef" title="Pause the system during data collection. " alt="" coords="144,56,224,83"/><area shape="rect" id="node3" href="system_8h.html#a776671d27b9823dfa3b52cb403eb5e2f" title="Start a new data session. " alt="" coords="273,5,391,32"/><area shape="rect" id="node6" href="system_8h.html#af0c0706aba53d227b07eb1c9fbadd568" title="Resume collection during a pause from data collection. " alt="" coords="287,56,377,83"/><area shape="rect" id="node4" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="441,5,551,32"/><area shape="rect" id="node5" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="600,5,651,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e2e8dad2acdd9148767c662b08edb1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysSample </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sample the MPU on an interrupt. </p>
<p>This function is used as a callback for the MPU data ready event. It checks for the desired axes to sample and performs sampling on these channels. It also provides critical flag updates for buffer overrun and event queue overflow </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00249">249</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a0e2e8dad2acdd9148767c662b08edb1b_cgraph.png" border="0" usemap="#system_8c_a0e2e8dad2acdd9148767c662b08edb1b_cgraph" alt=""/></div>
<map name="system_8c_a0e2e8dad2acdd9148767c662b08edb1b_cgraph" id="system_8c_a0e2e8dad2acdd9148767c662b08edb1b_cgraph">
<area shape="rect" id="node2" href="mpu_8c.html#ae32ab7a126f1a348ee342a117c26a827" title="This function gets the current accelerometer value from the MPU6050. " alt="" coords="141,5,243,32"/><area shape="rect" id="node6" href="filesystem_8c.html#a38da66fc085afbb50769720a65511e7a" title="Write data to the current open data session. " alt="" coords="313,144,404,171"/><area shape="rect" id="node9" href="mpu_8c.html#a51dd4d318b0a66c235ef4fac3b96bacb" title="This function gets the current gyro value from the MPU6050. " alt="" coords="144,56,240,83"/><area shape="rect" id="node10" href="mpu_8c.html#ac9768a2c76e8d116ed37158ae97128f0" title="This function gets the current temperature value from the MPU6050. " alt="" coords="142,107,242,133"/><area shape="rect" id="node11" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="151,227,233,253"/><area shape="rect" id="node3" href="comm_8c.html#a29aeb1447e5d2de1da8ee5d87fbe2d97" title="Receive method for USCI B1 I2C operation. " alt="" coords="316,17,401,44"/><area shape="rect" id="node5" href="comm_8c.html#a1eb0cd49631429c70b5b46c6438721a9" title="Get method for USCI B1 status. " alt="" coords="309,68,408,95"/><area shape="rect" id="node4" href="comm_8c.html#a8f7f68ec9a8b50cfdb98163787157ee2" title="Configures USCI B1 for operation. " alt="" coords="489,17,569,44"/><area shape="rect" id="node7" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="633,144,757,171"/><area shape="rect" id="node8" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="806,144,933,171"/><area shape="rect" id="node12" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="291,308,427,335"/><area shape="rect" id="node13" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="307,207,410,233"/><area shape="rect" id="node14" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="486,271,573,297"/><area shape="rect" id="node15" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="480,169,579,196"/><area shape="rect" id="node16" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="475,220,583,247"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a0e2e8dad2acdd9148767c662b08edb1b_icgraph.png" border="0" usemap="#system_8c_a0e2e8dad2acdd9148767c662b08edb1b_icgraph" alt=""/></div>
<map name="system_8c_a0e2e8dad2acdd9148767c662b08edb1b_icgraph" id="system_8c_a0e2e8dad2acdd9148767c662b08edb1b_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a776671d27b9823dfa3b52cb403eb5e2f" title="Start a new data session. " alt="" coords="409,5,527,32"/><area shape="rect" id="node5" href="system_8h.html#af0c0706aba53d227b07eb1c9fbadd568" title="Resume collection during a pause from data collection. " alt="" coords="141,31,232,57"/><area shape="rect" id="node3" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="577,5,687,32"/><area shape="rect" id="node4" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="736,5,787,32"/><area shape="rect" id="node6" href="system_8h.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef" title="Pause the system during data collection. " alt="" coords="280,31,360,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab112a1e0291e6fe889425ea1af602171"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysSleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put the system to sleep. </p>
<p>"Sleep" the system, first clear any un-used output ports, the event queue, and set the state to <a class="el" href="system_8h.html#a2cf7447bd3520706609471d3ecd7e33dab48b45c95e46f218dca2c1eb5e59ca7e" title="System sleep state. ">STATE_SLEEP</a> </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00123">123</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_ab112a1e0291e6fe889425ea1af602171_cgraph.png" border="0" usemap="#system_8c_ab112a1e0291e6fe889425ea1af602171_cgraph" alt=""/></div>
<map name="system_8c_ab112a1e0291e6fe889425ea1af602171_cgraph" id="system_8c_ab112a1e0291e6fe889425ea1af602171_cgraph">
<area shape="rect" id="node2" href="system_8c.html#a53c9ab66d66cad62ac9727b44f6dc6a4" title="(Re&#45;)initialize the event queue " alt="" coords="163,5,242,32"/><area shape="rect" id="node3" href="mpu_8c.html#aa155f937428dfbd5eb2c27525a8b8e65" title="mpuSleepEn" alt="" coords="155,56,251,83"/><area shape="rect" id="node8" href="interrupts_8c.html#a4a77683e1e6bf6dd75de14420934a28d" title="sw1IntCfg" alt="" coords="163,107,242,133"/><area shape="rect" id="node9" href="interrupts_8c.html#adffdde5c895639affc223a8a7b33949f" title="sw2IntCfg" alt="" coords="163,157,242,184"/><area shape="rect" id="node10" href="interrupts_8c.html#afca9577b45e269f738134d967728181e" title="registerSW1Callback" alt="" coords="131,208,275,235"/><area shape="rect" id="node11" href="system_8c.html#a2be52727e38f4ff8974fee6e8cc7154f" title="Wake the system from sleep to start taking data or enter command. " alt="" coords="164,259,241,285"/><area shape="rect" id="node21" href="interrupts_8c.html#a2c9d372439040ad8e21c127455f93cd2" title="registerSW2Callback" alt="" coords="131,309,275,336"/><area shape="rect" id="node22" href="interrupts_8c.html#a08e51a1426d117ba45dfd329b2988bbb" title="clearMPUCallback" alt="" coords="138,360,267,387"/><area shape="rect" id="node4" href="mpu_8c.html#ad5719093bdef3795b0ab436e6b9d7703" title="This function writes a single byte to a register in the MPU6050. " alt="" coords="329,56,431,83"/><area shape="rect" id="node5" href="comm_8c.html#ae0290657fef25a40fcb6cc520fd6a5d6" title="Transmit method for USCI B1 I2C operation. " alt="" coords="510,31,597,57"/><area shape="rect" id="node7" href="comm_8c.html#a1eb0cd49631429c70b5b46c6438721a9" title="Get method for USCI B1 status. " alt="" coords="504,81,603,108"/><area shape="rect" id="node6" href="comm_8c.html#a8f7f68ec9a8b50cfdb98163787157ee2" title="Configures USCI B1 for operation. " alt="" coords="684,31,764,57"/><area shape="rect" id="node12" href="util_8c.html#a9c16d7a8760cc0260a1c7d79847d2f99" title="Blink LED rep times using spin loops for timing. " alt="" coords="355,233,405,260"/><area shape="rect" id="node13" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="339,284,421,311"/><area shape="rect" id="node14" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="485,233,621,260"/><area shape="rect" id="node15" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="502,335,605,361"/><area shape="rect" id="node18" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="681,284,767,311"/><area shape="rect" id="node16" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="827,385,951,412"/><area shape="rect" id="node19" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="675,385,773,412"/><area shape="rect" id="node20" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="670,436,778,463"/><area shape="rect" id="node17" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="1001,385,1127,412"/><area shape="rect" id="node23" href="interrupts_8c.html#a06dd6de8d440db94104057cd2ae546e1" title="dummyCallback" alt="" coords="323,360,437,387"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_ab112a1e0291e6fe889425ea1af602171_icgraph.png" border="0" usemap="#system_8c_ab112a1e0291e6fe889425ea1af602171_icgraph" alt=""/></div>
<map name="system_8c_ab112a1e0291e6fe889425ea1af602171_icgraph" id="system_8c_ab112a1e0291e6fe889425ea1af602171_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="131,5,242,32"/><area shape="rect" id="node3" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="291,5,341,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a776671d27b9823dfa3b52cb403eb5e2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysStartSession </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a new data session. </p>
<p>Set up the MPU for taking a data session, interrupts on the MSP, and file system for storing the incoming data then set the state to <a class="el" href="system_8h.html#a2cf7447bd3520706609471d3ecd7e33da3da5feea7e54f5310edafcaa43537fb3" title="System collection state. ">STATE_COLLECTING</a> </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00177">177</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a776671d27b9823dfa3b52cb403eb5e2f_cgraph.png" border="0" usemap="#system_8c_a776671d27b9823dfa3b52cb403eb5e2f_cgraph" alt=""/></div>
<map name="system_8c_a776671d27b9823dfa3b52cb403eb5e2f_cgraph" id="system_8c_a776671d27b9823dfa3b52cb403eb5e2f_cgraph">
<area shape="rect" id="node2" href="interrupts_8c.html#afca9577b45e269f738134d967728181e" title="registerSW1Callback" alt="" coords="544,80,688,107"/><area shape="rect" id="node3" href="system_8c.html#ad5e178a6a6d6d9bf4451608d1ed1c7ef" title="Pause the system during data collection. " alt="" coords="205,181,285,208"/><area shape="rect" id="node27" href="interrupts_8c.html#a4a77683e1e6bf6dd75de14420934a28d" title="sw1IntCfg" alt="" coords="206,80,285,107"/><area shape="rect" id="node28" href="interrupts_8c.html#a2c9d372439040ad8e21c127455f93cd2" title="registerSW2Callback" alt="" coords="173,131,317,157"/><area shape="rect" id="node29" href="system_8c.html#a741860d7c7ca2fc2ab305996586da3a8" title="Stop data collection. " alt="" coords="207,485,283,512"/><area shape="rect" id="node31" href="interrupts_8c.html#adffdde5c895639affc223a8a7b33949f" title="sw2IntCfg" alt="" coords="206,232,285,259"/><area shape="rect" id="node10" href="interrupts_8c.html#a6089a2c3e818d5bd8b2c68e9e61a95e2" title="registerMPUCallback" alt="" coords="544,181,688,208"/><area shape="rect" id="node11" href="system_8c.html#a0e2e8dad2acdd9148767c662b08edb1b" title="Sample the MPU on an interrupt. " alt="" coords="573,283,659,309"/><area shape="rect" id="node32" href="interrupts_8c.html#a36adf9ed3765c9a443d62df03fc1dcbc" title="mpuIntPinCfg" alt="" coords="196,384,295,411"/><area shape="rect" id="node5" href="mpu_8c.html#aa155f937428dfbd5eb2c27525a8b8e65" title="mpuSleepEn" alt="" coords="568,131,664,157"/><area shape="rect" id="node33" href="filesystem_8c.html#a52a6f393ec15b8e284bc930f952cd4fb" title="Start a new session. " alt="" coords="900,536,1007,563"/><area shape="rect" id="node22" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="1081,536,1167,563"/><area shape="rect" id="node30" href="util_8c.html#a9c16d7a8760cc0260a1c7d79847d2f99" title="Blink LED rep times using spin loops for timing. " alt="" coords="406,435,455,461"/><area shape="rect" id="node4" href="system_8c.html#af0c0706aba53d227b07eb1c9fbadd568" title="Resume collection during a pause from data collection. " alt="" coords="385,181,476,208"/><area shape="rect" id="node25" href="interrupts_8c.html#a08e51a1426d117ba45dfd329b2988bbb" title="clearMPUCallback" alt="" coords="366,232,495,259"/><area shape="rect" id="node6" href="mpu_8c.html#ad5719093bdef3795b0ab436e6b9d7703" title="This function writes a single byte to a register in the MPU6050. " alt="" coords="736,131,837,157"/><area shape="rect" id="node7" href="comm_8c.html#ae0290657fef25a40fcb6cc520fd6a5d6" title="Transmit method for USCI B1 I2C operation. " alt="" coords="910,131,997,157"/><area shape="rect" id="node9" href="comm_8c.html#a1eb0cd49631429c70b5b46c6438721a9" title="Get method for USCI B1 status. " alt="" coords="904,181,1003,208"/><area shape="rect" id="node8" href="comm_8c.html#a8f7f68ec9a8b50cfdb98163787157ee2" title="Configures USCI B1 for operation. " alt="" coords="1084,181,1164,208"/><area shape="rect" id="node12" href="mpu_8c.html#ae32ab7a126f1a348ee342a117c26a827" title="This function gets the current accelerometer value from the MPU6050. " alt="" coords="736,283,837,309"/><area shape="rect" id="node14" href="filesystem_8c.html#a38da66fc085afbb50769720a65511e7a" title="Write data to the current open data session. " alt="" coords="1079,333,1169,360"/><area shape="rect" id="node17" href="mpu_8c.html#a51dd4d318b0a66c235ef4fac3b96bacb" title="This function gets the current gyro value from the MPU6050. " alt="" coords="739,181,835,208"/><area shape="rect" id="node18" href="mpu_8c.html#ac9768a2c76e8d116ed37158ae97128f0" title="This function gets the current temperature value from the MPU6050. " alt="" coords="737,232,837,259"/><area shape="rect" id="node19" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="745,435,828,461"/><area shape="rect" id="node13" href="comm_8c.html#a29aeb1447e5d2de1da8ee5d87fbe2d97" title="Receive method for USCI B1 I2C operation. " alt="" coords="911,232,996,259"/><area shape="rect" id="node15" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="1227,409,1351,436"/><area shape="rect" id="node16" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="1401,409,1527,436"/><area shape="rect" id="node20" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="885,384,1021,411"/><area shape="rect" id="node21" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="902,435,1005,461"/><area shape="rect" id="node23" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="1075,485,1173,512"/><area shape="rect" id="node24" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="1070,384,1178,411"/><area shape="rect" id="node26" href="interrupts_8c.html#a06dd6de8d440db94104057cd2ae546e1" title="dummyCallback" alt="" coords="559,232,673,259"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a776671d27b9823dfa3b52cb403eb5e2f_icgraph.png" border="0" usemap="#system_8c_a776671d27b9823dfa3b52cb403eb5e2f_icgraph" alt=""/></div>
<map name="system_8c_a776671d27b9823dfa3b52cb403eb5e2f_icgraph" id="system_8c_a776671d27b9823dfa3b52cb403eb5e2f_icgraph">
<area shape="rect" id="node2" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="174,5,285,32"/><area shape="rect" id="node3" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="333,5,384,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2be52727e38f4ff8974fee6e8cc7154f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysWake </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake the system from sleep to start taking data or enter command. </p>
<p>Wake up, blink the LED 3 times, then exit LPM3 and determine next task to execute.ki </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00150">150</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a2be52727e38f4ff8974fee6e8cc7154f_cgraph.png" border="0" usemap="#system_8c_a2be52727e38f4ff8974fee6e8cc7154f_cgraph" alt=""/></div>
<map name="system_8c_a2be52727e38f4ff8974fee6e8cc7154f_cgraph" id="system_8c_a2be52727e38f4ff8974fee6e8cc7154f_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a9c16d7a8760cc0260a1c7d79847d2f99" title="Blink LED rep times using spin loops for timing. " alt="" coords="147,5,197,32"/><area shape="rect" id="node3" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="131,56,213,83"/><area shape="rect" id="node4" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="261,5,397,32"/><area shape="rect" id="node5" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="278,107,381,133"/><area shape="rect" id="node8" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="457,56,543,83"/><area shape="rect" id="node6" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="603,157,727,184"/><area shape="rect" id="node9" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="451,157,549,184"/><area shape="rect" id="node10" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="446,208,554,235"/><area shape="rect" id="node7" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="777,157,903,184"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a2be52727e38f4ff8974fee6e8cc7154f_icgraph.png" border="0" usemap="#system_8c_a2be52727e38f4ff8974fee6e8cc7154f_icgraph" alt=""/></div>
<map name="system_8c_a2be52727e38f4ff8974fee6e8cc7154f_icgraph" id="system_8c_a2be52727e38f4ff8974fee6e8cc7154f_icgraph">
<area shape="rect" id="node2" href="system_8h.html#ab112a1e0291e6fe889425ea1af602171" title="Put the system to sleep. " alt="" coords="131,5,207,32"/><area shape="rect" id="node3" href="system_8h.html#a3281e94ef2cc4e5d88bfcdaa503e673c" title="Execute the next event waiting on the event queue. " alt="" coords="257,5,367,32"/><area shape="rect" id="node4" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="416,5,467,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a972eedbc68ae911757b8efa8952aa1fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the system state. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00449">449</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a972eedbc68ae911757b8efa8952aa1fc_cgraph.png" border="0" usemap="#system_8c_a972eedbc68ae911757b8efa8952aa1fc_cgraph" alt=""/></div>
<map name="system_8c_a972eedbc68ae911757b8efa8952aa1fc_cgraph" id="system_8c_a972eedbc68ae911757b8efa8952aa1fc_cgraph">
<area shape="rect" id="node2" href="system_8c.html#aed7fd0b0746e3855fcbd2f62b4b34c3e" title="Enqueue a sysEvent in the event queue for execution. " alt="" coords="160,309,243,336"/><area shape="rect" id="node10" href="system_8c.html#a53c9ab66d66cad62ac9727b44f6dc6a4" title="(Re&#45;)initialize the event queue " alt="" coords="162,56,241,83"/><area shape="rect" id="node11" href="ftdi_8c.html#aca2328b7add537c57c0f9d7e25cfea80" title="Clears buffer management for the FTDI UART channel. " alt="" coords="166,5,237,32"/><area shape="rect" id="node13" href="ftdi_8c.html#ae9d5b6de0cb5cb26a685197f22e8876e" title="Gets the number of bytes available from the FTDI chip. " alt="" coords="147,107,255,133"/><area shape="rect" id="node15" href="ftdi_8c.html#a30dae7ee9f6c99547f43691d2eae8681" title="Gets the status of the FTDI communications interface. " alt="" coords="152,157,251,184"/><area shape="rect" id="node17" href="ftdi_8c.html#a7d56e633a9a1be8132b278adfb68469e" title="Reads a specified number of bytes from the FTDI chip. " alt="" coords="167,208,236,235"/><area shape="rect" id="node19" href="command_8c.html#ae72397faaa65c39e4f2f4823c19c43d2" title="runCommand" alt="" coords="152,715,251,741"/><area shape="rect" id="node3" href="infoflash_8c.html#a365774cdf6450cd9df23360511da22a7" title="Write the event queue overflow critical flag to info flash. " alt="" coords="308,259,444,285"/><area shape="rect" id="node4" href="filesystem_8c.html#ad29a980f158d6e70f9d4eeac81863b2e" title="End a running session. " alt="" coords="325,360,427,387"/><area shape="rect" id="node7" href="rtc_8c.html#a932ad0638809d1facdb1481fee1d78c8" title="rtcGetTime" alt="" coords="694,461,781,488"/><area shape="rect" id="node5" href="flash_8c.html#a7f9ba32003fba07b69105b9bea9fed4c" title="Write a sector and read it back to verify correctness. " alt="" coords="675,309,799,336"/><area shape="rect" id="node8" href="filesystem_8c.html#aeff5276ca19830c36f34523ec7e37cc8" title="Update the session info in flash. " alt="" coords="511,335,609,361"/><area shape="rect" id="node9" href="filesystem_8c.html#aa42594b4220920802e420eaba060ade9" title="Update the card info in flash. " alt="" coords="506,233,614,260"/><area shape="rect" id="node6" href="flash_8h.html#aab676ef9ba7690db2729bc7901975927" title="Perform a 16&#45;bit fletcher checksum on a buffer. " alt="" coords="859,588,986,615"/><area shape="rect" id="node12" href="comm_8c.html#af4dfad55f1691c971928cf185a338f84" title="Resets USCI A0 without writing over control regs. " alt="" coords="333,5,419,32"/><area shape="rect" id="node14" href="comm_8c.html#a74008ee44a0da1e4513aeef868e79598" title="Get method for USCI A0 RX buffer size. " alt="" coords="318,107,434,133"/><area shape="rect" id="node16" href="comm_8c.html#a55dc91d5bee97a54b187edc2e51bd257" title="Get method for USCI A0 status. " alt="" coords="327,157,425,184"/><area shape="rect" id="node18" href="comm_8c.html#ae20f83fb584bad11928bc4f5a1b87b92" title="Receive method for USCI A0 UART operation. " alt="" coords="331,208,421,235"/><area shape="rect" id="node20" href="command_8c.html#ad3f98469f9ff5a8f3029ef544ac26862" title="&quot;Handshake&quot; with the node to unlock access to the other commands " alt="" coords="333,841,419,868"/><area shape="rect" id="node21" href="command_8c.html#a9b70c48dcddc545c4345e8be5dc2408f" title="Get the system RTC time and return it in the payload. " alt="" coords="331,487,421,513"/><area shape="rect" id="node23" href="command_8c.html#a74ad95c8e16d4a6705ccb2f6417f84c4" title="Set the system RTC time to a specific value. " alt="" coords="514,537,606,564"/><area shape="rect" id="node24" href="command_8c.html#a64a8afbab13873e4393ecf425f9e5c77" title="Get the system firmware version. " alt="" coords="322,993,430,1020"/><area shape="rect" id="node25" href="command_8c.html#a716012d22c441a411b412782c4064917" title="Get the node identification number. " alt="" coords="323,1044,429,1071"/><area shape="rect" id="node26" href="command_8c.html#ab2a9e7ed091ce0504aaf4397316c0472" title="Get the card identification number. " alt="" coords="325,309,427,336"/><area shape="rect" id="node33" href="command_8c.html#a91165cceaf75c18884ffc2c2d91a068a" title="Fetch the desired sector from the card and return it. " alt="" coords="325,639,427,665"/><area shape="rect" id="node36" href="command_8c.html#ad20424e6fc023b8dee0a3dc0a6a759b9" title="Get the most recent accelerometer values. " alt="" coords="511,797,609,824"/><area shape="rect" id="node41" href="command_8c.html#a27a77d646b4df055cf68d845ee76c42b" title="Get the most recent gyro values. " alt="" coords="514,728,606,755"/><area shape="rect" id="node43" href="command_8c.html#ac749f9630fea98a47543724b93c495a5" title="Set the system sampling rate to the desired value. " alt="" coords="304,943,448,969"/><area shape="rect" id="node47" href="command_8c.html#a0ce4be48976f8eb6d7bf89185220abdb" title="Set the system sampling rate to the desired value. " alt="" coords="331,740,421,767"/><area shape="rect" id="node48" href="ftdi_8c.html#ae56a30fd1991c7adfba23d2fc910cafa" title="Writes a specified number of bytes to the FTDI chip. " alt="" coords="341,892,411,919"/><area shape="rect" id="node22" href="rtc_8c.html#a2c5b94d098744e15e474f42dd7996727" title="rtcSetTime" alt="" coords="517,487,603,513"/><area shape="rect" id="node27" href="flash_8c.html#a095c41f1a2a8a1aa697e3cfb048c8b16" title="Read the card ID directly from the MMC card. " alt="" coords="501,183,619,209"/><area shape="rect" id="node28" href="mmc_8c.html#a63d851f51d5bd56fe158a4d902d7a039" title="mmcReadRegister" alt="" coords="673,183,802,209"/><area shape="rect" id="node29" href="mmc_8c.html#aa088e2b5d1a1fc155c30d6b1c74c51c0" title="mmcSetBlockLength" alt="" coords="851,157,994,184"/><area shape="rect" id="node30" href="mmc_8c.html#a45553c72d5076047f5fa8a1da13d0e44" title="mmcSendCmd" alt="" coords="1054,120,1162,147"/><area shape="rect" id="node31" href="mmc_8c.html#a6e83355b1d22a078cac7314143c8b2d4" title="mmcGetResponse" alt="" coords="1043,196,1173,223"/><area shape="rect" id="node32" href="mmc_8c.html#a5c1de14a403aada7078527fd311078c7" title="mmcGetXXResponse" alt="" coords="851,259,995,285"/><area shape="rect" id="node34" href="flash_8c.html#ac586d9a9d6b84038ddccb549052a38f5" title="Read a sector and verify the checksum. " alt="" coords="499,639,621,665"/><area shape="rect" id="node35" href="flash_8c.html#a3acb9fe3d3714aa1dcdd72a8851e5484" title="Read a single sector from the flash card. " alt="" coords="698,639,777,665"/><area shape="rect" id="node37" href="mpu_8c.html#ae32ab7a126f1a348ee342a117c26a827" title="This function gets the current accelerometer value from the MPU6050. " alt="" coords="687,804,788,831"/><area shape="rect" id="node38" href="comm_8c.html#a29aeb1447e5d2de1da8ee5d87fbe2d97" title="Receive method for USCI B1 I2C operation. " alt="" coords="880,779,965,805"/><area shape="rect" id="node40" href="comm_8c.html#a1eb0cd49631429c70b5b46c6438721a9" title="Get method for USCI B1 status. " alt="" coords="873,829,972,856"/><area shape="rect" id="node39" href="comm_8c.html#a8f7f68ec9a8b50cfdb98163787157ee2" title="Configures USCI B1 for operation. " alt="" coords="1068,841,1148,868"/><area shape="rect" id="node42" href="mpu_8c.html#a51dd4d318b0a66c235ef4fac3b96bacb" title="This function gets the current gyro value from the MPU6050. " alt="" coords="689,753,785,780"/><area shape="rect" id="node44" href="mpu_8c.html#afb76f7f6daa79f9025788237e7a1a4e1" title="This function sets the sampling rate of MPU6050. " alt="" coords="496,936,624,963"/><area shape="rect" id="node45" href="mpu_8c.html#ad5719093bdef3795b0ab436e6b9d7703" title="This function writes a single byte to a register in the MPU6050. " alt="" coords="687,912,788,939"/><area shape="rect" id="node46" href="comm_8c.html#ae0290657fef25a40fcb6cc520fd6a5d6" title="Transmit method for USCI B1 I2C operation. " alt="" coords="879,905,966,932"/><area shape="rect" id="node49" href="comm_8c.html#a62eb3fb5e7928a31ade57b8fa39a6871" title="Transmit method for USCI A0 UART operation. " alt="" coords="515,873,605,900"/><area shape="rect" id="node50" href="comm_8c.html#ada62fa438c3ebff1a9ffc3fc9ab70928" title="Configures USCI A0 for operation. " alt="" coords="697,861,777,888"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_8c_a972eedbc68ae911757b8efa8952aa1fc_icgraph.png" border="0" usemap="#system_8c_a972eedbc68ae911757b8efa8952aa1fc_icgraph" alt=""/></div>
<map name="system_8c_a972eedbc68ae911757b8efa8952aa1fc_icgraph" id="system_8c_a972eedbc68ae911757b8efa8952aa1fc_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="main" alt="" coords="147,5,197,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a920e6108241f9f6c254b9e0cf5d678fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char cardFull = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00028">28</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4e8d4a598d52b52aeb809bb1cdcbf827"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="system_8h.html#aa15e9fc8efd9647f44f2a001171b96ad">sessStatus</a> closeCause</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00023">23</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="afa63e506d4f413bfb0b985361167922d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="command_8h.html#a661a9943788af21f1e164c78ec30a324">cmdPkt</a>* cmd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command packet to pass to <a class="el" href="command_8c.html#ae72397faaa65c39e4f2f4823c19c43d2">runCommand()</a> from <a class="el" href="system_8c.html#a972eedbc68ae911757b8efa8952aa1fc" title="Update the system state. ">updateState()</a> </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00024">24</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a93859788880cbc4c432e5177ea5f7136"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char dataCollectionEn = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00032">32</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8fa4bc96d0a94ee924a64e90c18c96cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="system_8h.html#acac48feae37327493d75fbe09ef8ae4d">sysEvent</a> evtQue[<a class="el" href="system_8h.html#a95c0bb348b624ba34bdafaf6f040c667">EVT_QUE_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event queue. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00038">38</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="ace17918ff5c8e22e781812c32d309359"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int evtQueCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event queue length (event count) </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00041">41</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad6ea330c7fac936917c0daa32fad62c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int evtQueEmptyCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event queue empty counter. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00042">42</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a90fe96f2ee6c1245844955516ecd1bdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int evtQueGetIdx = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event queue get index. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00040">40</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a97cd19d6c5a6531e02ce18a073fa3655"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int evtQuePutIdx = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event queue put index. </p>

<p>Definition at line <a class="el" href="system_8c_source.html#l00039">39</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a685ff36589967c57eba92de92970b120"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char highT = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00030">30</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3be7fd38b2d2cadc5c7c3f3153a6c570"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char lowV = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00029">29</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a35bb87da21d354b827425c8cf4428fe9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int nodeID = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00020">20</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3f4bf88cede311e2ad476f5267bc6e37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="system_8h.html#aefdf07bbe1cab2bc286d391086c451f6">sampInfo</a> samp = {100, <a class="el" href="system_8h.html#acadb5a184c47b271475ed9d3dc3aca81">AXIS_XYZ_6DOF</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00022">22</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a32a86f562be36d04edb096c3e10c60e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long sampleCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00035">35</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a47d9867e5ec1bc96cb95214ede32c9fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char sensBuffFull = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00027">27</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0212335de2a6d4b6185eecb04f76c49c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char sessionInProgress = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00031">31</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a01ec844164c03a0dddaade749565b297"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="system_8h.html#a4b1d14a8e0eea6aeb786186fe5f308ae">sysState</a> state = <a class="el" href="system_8h.html#a2cf7447bd3520706609471d3ecd7e33da0980ed83de990f1099d3537bb6b6df24">STATE_NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00034">34</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
<a class="anchor" id="a299d78277c647c4ea93c76acb3e31ec0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="system_8h.html#a97d933d0408e619bd0db712e4d1f755e">Version</a> v = {4,0,1,0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="system_8c_source.html#l00019">19</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 6 2014 12:36:23 for TEMPO 4 Core Platform Firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
